{% comment %}First, check which sections this page should contain checking all of the posts{% endcomment %}
{%- for page in languagelist -%}
{% if page.display_as == "file_settings" %}
{% assign file_settings = true %}
{% elsif page.display_as == "chart_type" or page.display_as == "basic" %}
{% assign chart_type = true %}
{% elsif page.display_as == "statistical" %}
{% assign statistical = true %}
{% elsif page.display_as == "scientific" %}
{% assign scientific = true %}
{% elsif page.display_as == "advanced_charts"%}
{% assign advanced_charts = true %}
{% elsif page.display_as == "maps" %}
{% assign maps = true %}
{% elsif page.display_as == "financial" %}
{% assign financial = true %}
{% elsif page.display_as == "3d_charts" %}
{% assign 3d_charts = true %}
{% elsif page.display_as == "multiple_axes" %}
{% assign multiple_axes = true %}
{% elsif page.display_as == "transforms" %}
{% assign transforms = true %}
{% elsif page.display_as == "controls" %}
{% assign controls = true %}
{% elsif page.display_as == "animations" %}
{% assign animations = true %}
{% elsif page.display_as == "chart_events" %}
{% assign chart_events = true %}
{% elsif page.display_as == "chart_studio" %}
{% assign chart_studio = true %}
{% elsif page.display_as == "advanced_opt" %}
{% assign advanced_opt = true %}

{% endif %}
{%- endfor -%}

{% comment %} these are the pages that don't have images to show {% endcomment %}
{%- for page in languagelist -%}
{% if page.display_as == "layout_opt" %}
{% assign layout_options = true %}
{% elsif page.display_as == "style_opt" %}
{% assign style_options = true %}
{% endif %}
{%- endfor -%}

{% include both/py4_note.html %}



{% if file_settings %}
<section class="--tutorial-section">
    {% if page.permalink == "/javascript/" or page.permalink == "/r/" or page.permalink == "/python/"  %}
    <header class="--section-header"><a href="#fundamentals" name="fundamentals" id="fundamentals">Fundamentals</a>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/plotly-fundamentals" class="langindexlink">More Fundamentals</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/plotly-fundamentals" class="langindexlink">More Fundamentals</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/plotly-fundamentals" class="langindexlink">More Fundamentals</a>
        {% endif %}
    </header>
    {% endif %} 
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "file_settings" and page.order < 6 %} 


            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/plotly-fundamentals" class="langindexlink-mobile">More Fundamentals</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/plotly-fundamentals" class="langindexlink-mobile">More Fundamentals</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/plotly-fundamentals" class="langindexlink-mobile">More Fundamentals</a>
        {% endif %}
    </section>
</section>
{% endif %}

{% if chart_type %}
<section class="--tutorial-section">
    {% if page.permalink == "/javascript/" or page.permalink == "/r/" or page.permalink == "/python/"  %}
    <header class="--section-header"><a href="#fundamentals" name="fundamentals" id="fundamentals">Basic Charts</a>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/basic-charts" class="langindexlink">More Basic Charts</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/basic-charts" class="langindexlink">More Basic Charts</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/basic-charts" class="langindexlink">More Basic Charts</a>
        {% endif %}
    </header>
    {% endif %} 
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}

            {% assign category_elligible = false %}

            {% if page.display_as == "chart_type" or page.display_as == "basic"  %}
            {% assign category_elligible = true %}
            {% endif %}

            {% if category_elligible and page.order < 6 %}


            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/basic-charts" class="langindexlink-mobile">More Basic Charts</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/basic-charts" class="langindexlink-mobile">More Basic Charts</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/basic-charts" class="langindexlink-mobile">More Basic Charts</a>
        {% endif %}
    </section>
</section>
{% endif %}

{% if statistical %}
<section class="--tutorial-section" id="statistical-charts">
    {% if page.permalink == "/javascript/" or page.permalink == "/r/" or page.permalink == "/python/"  %}
    <header class="--section-header"><a href="#fundamentals" name="fundamentals" id="fundamentals">Statistical Charts</a>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/statistical-charts" class="langindexlink">More Statistical Charts</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/statistical-charts" class="langindexlink">More Statistical Charts</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/statistical-charts" class="langindexlink">More Statistical Charts</a>
        {% endif %}
    </header>
    {% endif %} 
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "statistical" and page.order < 6 %}

            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/statistical-charts" class="langindexlink-mobile">More Statistical Charts</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/statistical-charts" class="langindexlink-mobile">More Statistical Charts</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/statistical-charts" class="langindexlink-mobile">More Statistical Charts</a>
        {% endif %}
    </section>
</section>
{% endif %}

{% if scientific %}
<section class="--tutorial-section" id="scientific-charts">
    {% if page.permalink == "/javascript/" or page.permalink == "/r/" or page.permalink == "/python/"  %}
    <header class="--section-header"><a href="#fundamentals" name="fundamentals" id="fundamentals">Scientific Charts</a>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/scientific-charts" class="langindexlink">More Scientific Charts</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/scientific-charts" class="langindexlink">More Scientific Charts</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/scientific-charts" class="langindexlink">More Scientific Charts</a>
        {% endif %}
    </header>
    {% endif %}
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "scientific" and page.order < 6 %}

            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/scientific-charts" class="langindexlink-mobile">More Scientific Charts</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/scientific-charts" class="langindexlink-mobile">More Scientific Charts</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/scientific-charts" class="langindexlink-mobile">More Scientific Charts</a>
        {% endif %}
    </section>
</section>
{% endif %}

{% if financial %}
<section class="--tutorial-section" id="financial-charts">
    {% if page.permalink == "/javascript/" or page.permalink == "/r/" or page.permalink == "/python/"  %}
    <header class="--section-header"><a href="#fundamentals" name="fundamentals" id="fundamentals">Financial Charts</a>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/financial-charts" class="langindexlink">More Financial Charts</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/financial-charts" class="langindexlink">More Financial Charts</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/financial-charts" class="langindexlink">More Financial Charts</a>
        {% endif %}
    </header>
    {% endif %}
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "financial" and page.order < 6 %}

            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/financial-charts" class="langindexlink-mobile">More Financial Charts</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/financial-charts" class="langindexlink-mobile">More Financial Charts</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/financial-charts" class="langindexlink-mobile">More Financial Charts</a>
        {% endif %}
    </section>
</section>
{% endif %}

{% if maps %}
<section class="--tutorial-section" id="maps">
    {% if page.permalink == "/javascript/" or page.permalink == "/r/" or page.permalink == "/python/"  %}
    <header class="--section-header"><a href="#fundamentals" name="fundamentals" id="fundamentals">Maps</a>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/maps" class="langindexlink">More Maps</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/maps" class="langindexlink">More Maps</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/maps" class="langindexlink">More Maps</a>
        {% endif %}
    </header>
    {% endif %} 
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "maps" and page.order < 6 %}

            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/maps" class="langindexlink-mobile">More Maps</a>
        {% endif %}
        {% if page.permalink == "/r/"%}
        <a href="/r/maps" class="langindexlink-mobile">More Maps</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/maps" class="langindexlink-mobile">More Maps</a>
        {% endif %}
    </section>
</section>
{% endif %}

{% if 3d_charts %}
<section class="--tutorial-section" id="3d-charts">
    {% if page.permalink == "/javascript/" or page.permalink == "/r/" or page.permalink == "/python/"  %}
    <header class="--section-header"><a href="#fundamentals" name="fundamentals" id="fundamentals">3D Charts</a>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/3d-charts" class="langindexlink">More 3D Charts</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/3d-charts" class="langindexlink">More 3D Charts</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/3d-charts" class="langindexlink">More 3D Charts</a>
        {% endif %}
    </header>
    {% endif %} 
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "3d_charts" and page.order < 6 %}

            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/3d-charts" class="langindexlink-mobile">More 3D Charts</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/3d-charts" class="langindexlink-mobile">More 3D Charts</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/3d-charts" class="langindexlink-mobile">More 3D Charts</a>
        {% endif %}
    </section>
</section>
{% endif %}

{% if multiple_axes %}
<section class="--tutorial-section" id="multiple-axes-subplots-and-insets">
    {% if page.permalink == "/javascript/" or page.permalink == "/r/" or page.permalink == "/python/"  %}
    <header class="--section-header"><a href="#fundamentals" name="fundamentals" id="fundamentals">Subplots</a>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/subplot-charts" class="langindexlink">More Subplots</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/subplot-charts" class="langindexlink">More Subplots</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/subplot-charts" class="langindexlink">More Subplots</a>
        {% endif %}
    </header>
    {% endif %}
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "multiple_axes" and page.order < 6 %}

            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
        {% if page.permalink == "/javascript/"%}
        <a href="/javascript/subplot-charts" class="langindexlink-mobile">More Subplots</a>
        {% endif %}

        {% if page.permalink == "/r/"%}
        <a href="/r/subplot-charts" class="langindexlink-mobile">More Subplots</a>
        {% endif %}

        {% if page.permalink == "/python/"%}
        <a href="/python/subplot-charts" class="langindexlink-mobile">More Subplots</a>
        {% endif %}
    </section>
</section>
{% endif %}

{% if chart_events and page.language =="python" %}
<section class="--tutorial-section" id="chart-events">
    <header class="--section-header"><a href="#chart-events">Jupyter Widgets Interaction</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "chart_events" and page.order < 6 %}

            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if chart_events and page.language =="r" %}
<section class="--tutorial-section" id="chart-events">
    <header class="--section-header"><a href="#chart-events">Custom Interaction With JavaScript</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "chart_events" and page.order < 6 %}

            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if chart_events and page.language == 'plotly_js' %}
<section class="--tutorial-section" id="chart-events">
    <header class="--section-header"><a href="#chart-events">Custom Chart Events</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "chart_events" and page.order < 6 %}

            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if transforms %}
<section class="--tutorial-section">
    <header class="--section-header"><a href="#transforms" name="transforms" id="transforms">Transforms</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "transforms" and page.order < 6 %}


                        {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if controls %}
<section class="--tutorial-section" id="controls">
    <header class="--section-header"><a href="#controls">Add Custom Controls</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "controls" and page.order < 6 %}

            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if animations %}
<section class="--tutorial-section" id="animations">
    <header class="--section-header"><a href="#animations">Animations</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "animations" and page.order < 6 %}

            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if chart_studio %}
<section class="--tutorial-section">
    <header class="--section-header"><a href="#chart-studio" name="chart-studio" id="chart-studio">Chart Studio Integration</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "chart_studio" and page.order < 6 %}


                        {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if financial_analysis %}
<section class="--tutorial-section" id="financial-analysis">
    <header class="--section-header"><a href="#financial-analysis">Financial Analysis</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "financial_analysis" and page.order < 6 %}

            {% include layouts/grid-item.html %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if advanced_opt %}
<section class="--tutorial-section no-image" id="advanced-options">
    <header class="--section-header"><a href="#advanced-options">Advanced</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {% assign counter=0 %}
            {%- for page in languagelist -%}
            {% if page.display_as == "advanced_opt" and page.order < 6 %}

            <li class="--grid-item">
                <a href="{% if page.permalink contains 'http' %}{{page.permalink}}{% else %}/{{page.permalink}}{% endif %}">
                    <div class="--item-meta"><span>{{page.name}}</span></div>
                </a>
            </li>
            {% assign counter=counter | plus:1 %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if style_options %}
<section class="--tutorial-section no-image" id="style-options">
    <header class="--section-header"><a href="#style-options">Style Options</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {% assign counter=0 %}
            {%- for page in languagelist -%}
            {% if page.display_as == "style_opt" and page.order < 6 %}

            <li class="--grid-item">
                <a href="{% if page.permalink contains 'http' %}{{page.permalink}}{% else %}/{{page.permalink}}{% endif %}">
                    <div class="--item-meta"><span>{{page.name}}</span></div>
                </a>
            </li>
            {% assign counter=counter | plus:1 %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if layout_options %}
<section class="--tutorial-section no-image" id="layout-options">
    <header class="--section-header"><a href="#layout-options">Layout Options</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {% assign counter=0 %}
            {%- for page in languagelist -%}
            {% if page.display_as == "layout_opt" and page.order < 6 %}

            <li class="--grid-item">
                <a href="{% if page.permalink contains 'http' %}{{page.permalink}}{% else %}/{{page.permalink}}{% endif %}">
                    <div class="--item-meta"><span>{{page.name}}</span></div>
                </a>
            </li>
            {% assign counter=counter | plus:1 %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if chart_events and page.language !="plotly_js" and page.language !="python" and page.language != "r" %}
<section class="--tutorial-section no-image" id="chart-events">
    <header class="--section-header"><a href="#chart-events">Add Custom Controls with JavaScript</a>
    </header>
    <section class="--grid">
        <p>
            All Plotly charts have click, hover and zoom events exposed to add custom controls with Plotly's JavaScript <a href="https://github.com/plotly/postMessage-API">postMessage
            API</a>.
        </p>
        <ul class="--grid-list">
            {% assign counter=0 %}
            {%- for page in languagelist -%}
            {% if page.display_as == "chart_events" and page.order < 6 %}

            <li class="--grid-item">
                <a href="{% if page.permalink contains 'http' %}{{page.permalink}}{% else %}/{{page.permalink}}{% endif %}">
                    <div class="--item-meta"><span>{{page.name}}</span></div>

                </a>
            </li>
            {% assign counter=counter | plus:1 %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}