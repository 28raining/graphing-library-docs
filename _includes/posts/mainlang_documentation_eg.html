{% assign subindexpage = false %}

{% if page.display_as %}
{% assign subindexpage = true %}
{% endif %}

{% assign mainlanguage = false %}

{% if page.language == "plotly_js" or page.language == "python" or page.language == "r" %}
{% assign mainlanguage = true %}
{% endif %}

{% assign order_elligible = order_elligible %}

{% comment %}First, check which sections this page should contain checking all of the posts{% endcomment %}
{%- for page in languagelist -%}
{% if page.display_as == "file_settings" %}
{% assign file_settings = true %}
{% elsif page.display_as == "chart_type" or page.display_as == "basic" %}
{% assign chart_type = true %}
{% elsif page.display_as == "statistical" %}
{% assign statistical = true %}
{% elsif page.display_as == "scientific" %}
{% assign scientific = true %}
{% elsif page.display_as == "advanced_charts"%}
{% assign advanced_charts = true %}
{% elsif page.display_as == "maps" %}
{% assign maps = true %}
{% elsif page.display_as == "financial" %}
{% assign financial = true %}
{% elsif page.display_as == "3d_charts" %}
{% assign 3d_charts = true %}
{% elsif page.display_as == "multiple_axes" %}
{% assign multiple_axes = true %}
{% elsif page.display_as == "transforms" %}
{% assign transforms = true %}
{% elsif page.display_as == "controls" %}
{% assign controls = true %}
{% elsif page.display_as == "animations" %}
{% assign animations = true %}
{% elsif page.display_as == "chart_events" %}
{% assign chart_events = true %}
{% elsif page.display_as == "chart_studio" %}
{% assign chart_studio = true %}
{% elsif page.display_as == "advanced_opt" %}
{% assign advanced_opt = true %}

{% endif %}
{%- endfor -%}

{% comment %} these are the pages that don't have images to show {% endcomment %}
{%- for page in languagelist -%}
{% if page.display_as == "layout_opt" %}
{% assign layout_options = true %}
{% elsif page.display_as == "style_opt" %}
{% assign style_options = true %}
{% endif %}
{%- endfor -%}

{% include both/py4_note.html %}



{% if file_settings %}
<section class="--tutorial-section">
    <header class="--section-header"><a href="#fundamentals" name="fundamentals" id="fundamentals">Fundamentals</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "file_settings" and order_elligible %} 


            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if chart_type %}
<section class="--tutorial-section">
    <header class="--section-header"><a href="#basic-charts" name="basic" id="basic-charts">Basic Charts</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if chart_type and order_elligible %}


            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if statistical %}
<section class="--tutorial-section" id="statistical-charts">
    <header class="--section-header"><a href="#statistical-charts">Statistical Charts</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "statistical" and order_elligible %}

            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if scientific %}
<section class="--tutorial-section" id="scientific-charts">
    <header class="--section-header"><a href="#scientific-charts">Scientific Charts</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "scientific" and order_elligible %}

            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if financial %}
<section class="--tutorial-section" id="financial-charts">
    <header class="--section-header"><a href="#financial-charts">Financial Charts</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "financial" and order_elligible %}

            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if maps %}
<section class="--tutorial-section" id="maps">
    <header class="--section-header"><a href="#maps">Maps</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "maps" and order_elligible %}

            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if 3d_charts %}
<section class="--tutorial-section" id="3d-charts">
    <header class="--section-header"><a href="#3d-charts">3D Charts</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "3d_charts" and order_elligible %}

            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if multiple_axes %}
<section class="--tutorial-section" id="multiple-axes-subplots-and-insets">
    <header class="--section-header"><a href="#multiple-axes-subplots-and-insets">Subplots</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "multiple_axes" and order_elligible %}

            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if chart_events and page.language =="python" %}
<section class="--tutorial-section" id="chart-events">
    <header class="--section-header"><a href="#chart-events">Jupyter Widgets Interaction</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "chart_events" and order_elligible %}

            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if chart_events and page.language =="r" %}
<section class="--tutorial-section" id="chart-events">
    <header class="--section-header"><a href="#chart-events">Custom Interaction With JavaScript</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "chart_events" and order_elligible %}

            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if chart_events and page.language == 'plotly_js' %}
<section class="--tutorial-section" id="chart-events">
    <header class="--section-header"><a href="#chart-events">Custom Chart Events</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "chart_events" and order_elligible %}

            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if transforms %}
<section class="--tutorial-section">
    <header class="--section-header"><a href="#transforms" name="transforms" id="transforms">Transforms</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "transforms" and order_elligible %}


                        {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if controls %}
<section class="--tutorial-section" id="controls">
    <header class="--section-header"><a href="#controls">Add Custom Controls</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "controls" and order_elligible %}

            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if animations %}
<section class="--tutorial-section" id="animations">
    <header class="--section-header"><a href="#animations">Animations</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "animations" and order_elligible %}

            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if chart_studio %}
<section class="--tutorial-section">
    <header class="--section-header"><a href="#chart-studio" name="chart-studio" id="chart-studio">Chart Studio Integration</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "chart_studio" and order_elligible %}


                        {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if financial_analysis %}
<section class="--tutorial-section" id="financial-analysis">
    <header class="--section-header"><a href="#financial-analysis">Financial Analysis</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {%- for page in languagelist -%}
            {% if page.display_as == "financial_analysis" and order_elligible %}

            {% include layouts/grid-item.html %}


            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if advanced_opt %}
<section class="--tutorial-section no-image" id="advanced-options">
    <header class="--section-header"><a href="#advanced-options">Advanced</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {% assign counter=0 %}
            {%- for page in languagelist -%}
            {% if page.display_as == "advanced_opt" and order_elligible %}

            <li class="--grid-item">
                <a href="{% if page.permalink contains 'http' %}{{page.permalink}}{% else %}/{{page.permalink}}{% endif %}">
                    <div class="--item-meta"><span>{{page.name}}</span></div>
                </a>
            </li>
            {% assign counter=counter | plus:1 %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if style_options %}
<section class="--tutorial-section no-image" id="style-options">
    <header class="--section-header"><a href="#style-options">Style Options</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {% assign counter=0 %}
            {%- for page in languagelist -%}
            {% if page.display_as == "style_opt" and order_elligible %}

            <li class="--grid-item">
                <a href="{% if page.permalink contains 'http' %}{{page.permalink}}{% else %}/{{page.permalink}}{% endif %}">
                    <div class="--item-meta"><span>{{page.name}}</span></div>
                </a>
            </li>
            {% assign counter=counter | plus:1 %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if layout_options %}
<section class="--tutorial-section no-image" id="layout-options">
    <header class="--section-header"><a href="#layout-options">Layout Options</a>
    </header>
    <section class="--grid">
        <ul class="--grid-list">
            {% assign counter=0 %}
            {%- for page in languagelist -%}
            {% if page.display_as == "layout_opt" and order_elligible %}

            <li class="--grid-item">
                <a href="{% if page.permalink contains 'http' %}{{page.permalink}}{% else %}/{{page.permalink}}{% endif %}">
                    <div class="--item-meta"><span>{{page.name}}</span></div>
                </a>
            </li>
            {% assign counter=counter | plus:1 %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}

{% if chart_events and page.language !="plotly_js" and page.language !="python" and page.language != "r" %}
<section class="--tutorial-section no-image" id="chart-events">
    <header class="--section-header"><a href="#chart-events">Add Custom Controls with JavaScript</a>
    </header>
    <section class="--grid">
        <p>
            All Plotly charts have click, hover and zoom events exposed to add custom controls with Plotly's JavaScript <a href="https://github.com/plotly/postMessage-API">postMessage
            API</a>.
        </p>
        <ul class="--grid-list">
            {% assign counter=0 %}
            {%- for page in languagelist -%}
            {% if page.display_as == "chart_events" and order_elligible %}

            <li class="--grid-item">
                <a href="{% if page.permalink contains 'http' %}{{page.permalink}}{% else %}/{{page.permalink}}{% endif %}">
                    <div class="--item-meta"><span>{{page.name}}</span></div>

                </a>
            </li>
            {% assign counter=counter | plus:1 %}
            {% endif %}
            {%- endfor -%}
        </ul>
    </section>
</section>
{% endif %}