---
  description: Quote faceting variables and then convert them with ggplotly.
  function: vars
  permalink: /ggplot2/Facetting/vars/
  layout: base
  language: ggplot2
  name: vars
  reference: https://ggplot2.tidyverse.org/reference/
---


# Default plot


<pre class="mcode">
p <- ggplot(mtcars, aes(wt, disp)) + geom_point()
p <-  p + facet_wrap(vars(vs, am))

plotly::ggplotly(p)
</pre>



{% capture plot_486 %}
  {% raw %}
    {"data":[{"mode":"markers","type":"scatter","xsrc":"nadhil:918:ace118","x":[3.44,3.57,4.07,3.73,3.78,5.25,5.424,5.345,3.52,3.435,3.84,3.845],"ysrc":"nadhil:918:d64335","y":[360,360,275.8,275.8,275.8,472,460,440,318,304,350,400],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:918:acbed0","text":["wt:3.440disp:360.0","wt:3.570disp:360.0","wt:4.070disp:275.8","wt:3.730disp:275.8","wt:3.780disp:275.8","wt:5.250disp:472.0","wt:5.424disp:460.0","wt:5.345disp:440.0","wt:3.520disp:318.0","wt:3.435disp:304.0","wt:3.840disp:350.0","wt:3.845disp:400.0"],"hoverinfo":"text","showlegend":false},{"mode":"markers","type":"scatter","xsrc":"nadhil:918:c2bb12","x":[2.62,2.875,2.14,3.17,2.77,3.57],"ysrc":"nadhil:918:d1b39b","y":[160,160,120.3,351,145,301],"frame":null,"xaxis":"x2","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:918:ac8a4c","text":["wt:2.620disp:160.0","wt:2.875disp:160.0","wt:2.140disp:120.3","wt:3.170disp:351.0","wt:2.770disp:145.0","wt:3.570disp:301.0"],"hoverinfo":"text","showlegend":false},{"mode":"markers","type":"scatter","xsrc":"nadhil:918:4cf447","x":[3.215,3.46,3.19,3.15,3.44,3.44,2.465],"ysrc":"nadhil:918:3e4a55","y":[258,225,146.7,140.8,167.6,167.6,120.1],"frame":null,"xaxis":"x","yaxis":"y2","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:918:e372c5","text":["wt:3.215disp:258.0","wt:3.460disp:225.0","wt:3.190disp:146.7","wt:3.150disp:140.8","wt:3.440disp:167.6","wt:3.440disp:167.6","wt:2.465disp:120.1"],"hoverinfo":"text","showlegend":false},{"mode":"markers","type":"scatter","xsrc":"nadhil:918:738c81","x":[2.32,2.2,1.615,1.835,1.935,1.513,2.78],"ysrc":"nadhil:918:57a2e3","y":[108,78.7,75.7,71.1,79,95.1,121],"frame":null,"xaxis":"x2","yaxis":"y2","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:918:0c28a0","text":["wt:2.320disp:108.0","wt:2.200disp:78.7","wt:1.615disp:75.7","wt:1.835disp:71.1","wt:1.935disp:79.0","wt:1.513disp:95.1","wt:2.780disp:121.0"],"hoverinfo":"text","showlegend":false}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[1.31745,5.61955],"ticks":"outside","title":"","anchor":"y2","domain":[0,0.491846053489889],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2","3","4","5"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[51.055,492.045],"ticks":"outside","title":"","anchor":"x","domain":[0.529680365296804,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["100","200","300","400"],"tickvals":[100,200,300,400],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["100","200","300","400"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":43.1050228310502,"r":7.30593607305936,"t":37.9178082191781},"shapes":[{"x0":0,"x1":0.491846053489889,"y0":0.529680365296804,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0,"x1":0.491846053489889,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0.508153946510111,"x1":1,"y0":0.529680365296804,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0.508153946510111,"x1":1,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0,"x1":0.491846053489889,"y0":0,"y1":0.470319634703196,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0,"x1":0.491846053489889,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":0.470319634703196,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0.508153946510111,"x1":1,"y0":0,"y1":0.470319634703196,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0.508153946510111,"x1":1,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":0.470319634703196,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"}],"xaxis2":{"type":"linear","range":[1.31745,5.61955],"ticks":"outside","title":"","anchor":"y2","domain":[0.508153946510111,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["2","3","4","5"],"categoryorder":"array","showticklabels":true},"yaxis2":{"type":"linear","range":[51.055,492.045],"ticks":"outside","title":"","anchor":"x","domain":[0,0.470319634703196],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["100","200","300","400"],"tickvals":[100,200,300,400],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["100","200","300","400"],"categoryorder":"array","showticklabels":true},"barmode":"relative","hovermode":"closest","showlegend":false,"annotations":[{"x":0.5,"y":-0.0353881278538813,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"wt","xref":"paper","yref":"paper","xanchor":"center","yanchor":"top","showarrow":false,"textangle":0,"annotationType":"axis"},{"x":-0.0318003913894325,"y":0.5,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"disp","xref":"paper","yref":"paper","xanchor":"right","yanchor":"center","showarrow":false,"textangle":-90,"annotationType":"axis"},{"x":0.245923026744945,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"00","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.754076973255055,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"01","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.245923026744945,"y":0.470319634703196,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"10","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.754076973255055,"y":0.470319634703196,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"11","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0}],"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_486
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Facetting/vars/example1_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Facetting/vars/example1_montage.png"
%}


# Wrapper function example 1

`vars()` makes it easy to pass variables from wrapper functions:


<pre class="mcode">
p <- ggplot(mtcars, aes(wt, disp)) + geom_point()
wrap_by <- function(...) {
  facet_wrap(vars(...), labeller = label_both)
}
p <-  p + wrap_by(vs)

plotly::ggplotly(p)
</pre>



{% capture plot_487 %}
  {% raw %}
    {"data":[{"mode":"markers","type":"scatter","xsrc":"nadhil:920:80af03","x":[2.62,2.875,3.44,3.57,4.07,3.73,3.78,5.25,5.424,5.345,3.52,3.435,3.84,3.845,2.14,3.17,2.77,3.57],"ysrc":"nadhil:920:3a9174","y":[160,160,360,360,275.8,275.8,275.8,472,460,440,318,304,350,400,120.3,351,145,301],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:920:828810","text":["wt:2.620disp:160.0","wt:2.875disp:160.0","wt:3.440disp:360.0","wt:3.570disp:360.0","wt:4.070disp:275.8","wt:3.730disp:275.8","wt:3.780disp:275.8","wt:5.250disp:472.0","wt:5.424disp:460.0","wt:5.345disp:440.0","wt:3.520disp:318.0","wt:3.435disp:304.0","wt:3.840disp:350.0","wt:3.845disp:400.0","wt:2.140disp:120.3","wt:3.170disp:351.0","wt:2.770disp:145.0","wt:3.570disp:301.0"],"hoverinfo":"text","showlegend":false},{"mode":"markers","type":"scatter","xsrc":"nadhil:920:dc5294","x":[2.32,3.215,3.46,3.19,3.15,3.44,3.44,2.2,1.615,1.835,2.465,1.935,1.513,2.78],"ysrc":"nadhil:920:485461","y":[108,258,225,146.7,140.8,167.6,167.6,78.7,75.7,71.1,120.1,79,95.1,121],"frame":null,"xaxis":"x2","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:920:f272a3","text":["wt:2.320disp:108.0","wt:3.215disp:258.0","wt:3.460disp:225.0","wt:3.190disp:146.7","wt:3.150disp:140.8","wt:3.440disp:167.6","wt:3.440disp:167.6","wt:2.200disp:78.7","wt:1.615disp:75.7","wt:1.835disp:71.1","wt:2.465disp:120.1","wt:1.935disp:79.0","wt:1.513disp:95.1","wt:2.780disp:121.0"],"hoverinfo":"text","showlegend":false}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[1.31745,5.61955],"ticks":"outside","title":"","anchor":"y","domain":[0,0.491846053489889],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2","3","4","5"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[51.055,492.045],"ticks":"outside","title":"","anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["100","200","300","400"],"tickvals":[100,200,300,400],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["100","200","300","400"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":43.1050228310502,"r":7.30593607305936,"t":37.9178082191781},"shapes":[{"x0":0,"x1":0.491846053489889,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0,"x1":0.491846053489889,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0.508153946510111,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0.508153946510111,"x1":1,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"}],"xaxis2":{"type":"linear","range":[1.31745,5.61955],"ticks":"outside","title":"","anchor":"y","domain":[0.508153946510111,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["2","3","4","5"],"categoryorder":"array","showticklabels":true},"barmode":"relative","hovermode":"closest","showlegend":false,"annotations":[{"x":0.5,"y":-0.0353881278538813,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"wt","xref":"paper","yref":"paper","xanchor":"center","yanchor":"top","showarrow":false,"textangle":0,"annotationType":"axis"},{"x":-0.0318003913894325,"y":0.5,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"disp","xref":"paper","yref":"paper","xanchor":"right","yanchor":"center","showarrow":false,"textangle":-90,"annotationType":"axis"},{"x":0.245923026744945,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"vs:0","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.754076973255055,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"vs:1","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0}],"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_487
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Facetting/vars/example2_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Facetting/vars/example2_montage.png"
%}



# Example 2

<pre class="mcode">
p <- ggplot(mtcars, aes(wt, disp)) + geom_point()
wrap_by <- function(...) {
  facet_wrap(vars(...), labeller = label_both)
}
p <-  p + wrap_by(vs, am)

plotly::ggplotly(p)
</pre>


{% capture plot_488 %}
  {% raw %}
    {"data":[{"mode":"markers","type":"scatter","xsrc":"nadhil:922:976ea1","x":[3.44,3.57,4.07,3.73,3.78,5.25,5.424,5.345,3.52,3.435,3.84,3.845],"ysrc":"nadhil:922:39da56","y":[360,360,275.8,275.8,275.8,472,460,440,318,304,350,400],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:922:f2998c","text":["wt:3.440disp:360.0","wt:3.570disp:360.0","wt:4.070disp:275.8","wt:3.730disp:275.8","wt:3.780disp:275.8","wt:5.250disp:472.0","wt:5.424disp:460.0","wt:5.345disp:440.0","wt:3.520disp:318.0","wt:3.435disp:304.0","wt:3.840disp:350.0","wt:3.845disp:400.0"],"hoverinfo":"text","showlegend":false},{"mode":"markers","type":"scatter","xsrc":"nadhil:922:92419e","x":[2.62,2.875,2.14,3.17,2.77,3.57],"ysrc":"nadhil:922:3ad8f2","y":[160,160,120.3,351,145,301],"frame":null,"xaxis":"x2","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:922:5038ea","text":["wt:2.620disp:160.0","wt:2.875disp:160.0","wt:2.140disp:120.3","wt:3.170disp:351.0","wt:2.770disp:145.0","wt:3.570disp:301.0"],"hoverinfo":"text","showlegend":false},{"mode":"markers","type":"scatter","xsrc":"nadhil:922:9f0d27","x":[3.215,3.46,3.19,3.15,3.44,3.44,2.465],"ysrc":"nadhil:922:53d9a3","y":[258,225,146.7,140.8,167.6,167.6,120.1],"frame":null,"xaxis":"x","yaxis":"y2","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:922:77fc06","text":["wt:3.215disp:258.0","wt:3.460disp:225.0","wt:3.190disp:146.7","wt:3.150disp:140.8","wt:3.440disp:167.6","wt:3.440disp:167.6","wt:2.465disp:120.1"],"hoverinfo":"text","showlegend":false},{"mode":"markers","type":"scatter","xsrc":"nadhil:922:119bc4","x":[2.32,2.2,1.615,1.835,1.935,1.513,2.78],"ysrc":"nadhil:922:38f6da","y":[108,78.7,75.7,71.1,79,95.1,121],"frame":null,"xaxis":"x2","yaxis":"y2","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:922:86a652","text":["wt:2.320disp:108.0","wt:2.200disp:78.7","wt:1.615disp:75.7","wt:1.835disp:71.1","wt:1.935disp:79.0","wt:1.513disp:95.1","wt:2.780disp:121.0"],"hoverinfo":"text","showlegend":false}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[1.31745,5.61955],"ticks":"outside","title":"","anchor":"y2","domain":[0,0.491846053489889],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2","3","4","5"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[51.055,492.045],"ticks":"outside","title":"","anchor":"x","domain":[0.529680365296804,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["100","200","300","400"],"tickvals":[100,200,300,400],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["100","200","300","400"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":43.1050228310502,"r":7.30593607305936,"t":37.9178082191781},"shapes":[{"x0":0,"x1":0.491846053489889,"y0":0.529680365296804,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0,"x1":0.491846053489889,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0.508153946510111,"x1":1,"y0":0.529680365296804,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0.508153946510111,"x1":1,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0,"x1":0.491846053489889,"y0":0,"y1":0.470319634703196,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0,"x1":0.491846053489889,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":0.470319634703196,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0.508153946510111,"x1":1,"y0":0,"y1":0.470319634703196,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0.508153946510111,"x1":1,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":0.470319634703196,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"}],"xaxis2":{"type":"linear","range":[1.31745,5.61955],"ticks":"outside","title":"","anchor":"y2","domain":[0.508153946510111,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["2","3","4","5"],"categoryorder":"array","showticklabels":true},"yaxis2":{"type":"linear","range":[51.055,492.045],"ticks":"outside","title":"","anchor":"x","domain":[0,0.470319634703196],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["100","200","300","400"],"tickvals":[100,200,300,400],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["100","200","300","400"],"categoryorder":"array","showticklabels":true},"barmode":"relative","hovermode":"closest","showlegend":false,"annotations":[{"x":0.5,"y":-0.0353881278538813,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"wt","xref":"paper","yref":"paper","xanchor":"center","yanchor":"top","showarrow":false,"textangle":0,"annotationType":"axis"},{"x":-0.0318003913894325,"y":0.5,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"disp","xref":"paper","yref":"paper","xanchor":"right","yanchor":"center","showarrow":false,"textangle":-90,"annotationType":"axis"},{"x":0.245923026744945,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"vs:0am:0","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.754076973255055,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"vs:0am:1","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.245923026744945,"y":0.470319634703196,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"vs:1am:0","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.754076973255055,"y":0.470319634703196,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"vs:1am:1","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0}],"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_488
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Facetting/vars/example3_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Facetting/vars/example3_montage.png"
%}


# Example 3

You can also supply expressions to `vars()`. In this case it's often a good idea to supply a name as well:


<pre class="mcode">
p <- ggplot(mtcars, aes(wt, disp)) + geom_point()
wrap_by <- function(...) {
  facet_wrap(vars(...), labeller = label_both)
}
p <-  p + wrap_by(drat = cut_number(drat, 3))

plotly::ggplotly(p)
</pre>


{% capture plot_489 %}
  {% raw %}
    {"data":[{"mode":"markers","type":"scatter","xsrc":"nadhil:924:5bff61","x":[3.215,3.44,3.46,4.07,3.73,3.78,5.25,5.424,3.52,3.435,3.845],"ysrc":"nadhil:924:9a316f","y":[258,360,225,275.8,275.8,275.8,472,460,318,304,400],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:924:d0227c","text":["wt:3.215disp:258.0","wt:3.440disp:360.0","wt:3.460disp:225.0","wt:4.070disp:275.8","wt:3.730disp:275.8","wt:3.780disp:275.8","wt:5.250disp:472.0","wt:5.424disp:460.0","wt:3.520disp:318.0","wt:3.435disp:304.0","wt:3.845disp:400.0"],"hoverinfo":"text","showlegend":false},{"mode":"markers","type":"scatter","xsrc":"nadhil:924:204cbb","x":[2.62,2.875,2.32,3.57,3.19,5.345,2.465,3.84,1.513,2.77,3.57],"ysrc":"nadhil:924:65bc5e","y":[160,160,108,360,146.7,440,120.1,350,95.1,145,301],"frame":null,"xaxis":"x2","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:924:ab877b","text":["wt:2.620disp:160.0","wt:2.875disp:160.0","wt:2.320disp:108.0","wt:3.570disp:360.0","wt:3.190disp:146.7","wt:5.345disp:440.0","wt:2.465disp:120.1","wt:3.840disp:350.0","wt:1.513disp:95.1","wt:2.770disp:145.0","wt:3.570disp:301.0"],"hoverinfo":"text","showlegend":false},{"mode":"markers","type":"scatter","xsrc":"nadhil:924:53607b","x":[3.15,3.44,3.44,2.2,1.615,1.835,1.935,2.14,3.17,2.78],"ysrc":"nadhil:924:1da99f","y":[140.8,167.6,167.6,78.7,75.7,71.1,79,120.3,351,121],"frame":null,"xaxis":"x3","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:924:9e3f0f","text":["wt:3.150disp:140.8","wt:3.440disp:167.6","wt:3.440disp:167.6","wt:2.200disp:78.7","wt:1.615disp:75.7","wt:1.835disp:71.1","wt:1.935disp:79.0","wt:2.140disp:120.3","wt:3.170disp:351.0","wt:2.780disp:121.0"],"hoverinfo":"text","showlegend":false}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[1.31745,5.61955],"ticks":"outside","title":"","anchor":"y","domain":[0,0.325179386823222],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2","3","4","5"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[51.055,492.045],"ticks":"outside","title":"","anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["100","200","300","400"],"tickvals":[100,200,300,400],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["100","200","300","400"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":43.1050228310502,"r":7.30593607305936,"t":37.9178082191781},"shapes":[{"x0":0,"x1":0.325179386823222,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0,"x1":0.325179386823222,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0.341487279843444,"x1":0.658512720156556,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0.341487279843444,"x1":0.658512720156556,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0.674820613176778,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0.674820613176778,"x1":1,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"}],"xaxis2":{"type":"linear","range":[1.31745,5.61955],"ticks":"outside","title":"","anchor":"y","domain":[0.341487279843444,0.658512720156556],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["2","3","4","5"],"categoryorder":"array","showticklabels":true},"xaxis3":{"type":"linear","range":[1.31745,5.61955],"ticks":"outside","title":"","anchor":"y","domain":[0.674820613176778,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["2","3","4","5"],"categoryorder":"array","showticklabels":true},"barmode":"relative","hovermode":"closest","showlegend":false,"annotations":[{"x":0.5,"y":-0.0353881278538813,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"wt","xref":"paper","yref":"paper","xanchor":"center","yanchor":"top","showarrow":false,"textangle":0,"annotationType":"axis"},{"x":-0.0318003913894325,"y":0.5,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"disp","xref":"paper","yref":"paper","xanchor":"right","yanchor":"center","showarrow":false,"textangle":-90,"annotationType":"axis"},{"x":0.162589693411611,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"drat:[2.76,3.17]","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.5,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"drat:(3.17,3.9]","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.837410306588389,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"drat:(3.9,4.93]","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0}],"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_489
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Facetting/vars/example4_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Facetting/vars/example4_montage.png"
%}



# Example 4



<pre class="mcode">
p <- ggplot(mtcars, aes(wt, disp)) + geom_point()
wrap_cut <- function(var, n = 3) {
  # Let's enquote the named argument `var` to make it auto-quoting:
  var <- enquo(var)

  # `as_label()` will create a nice default name:
  nm <- as_label(var)

  # Now let's unquote everything at the right place. Note that we also
  # unquote `n` just in case the data frame has a column named
  # `n`. The latter would have precedence over our local variable
  # because the data is always masking the environment.
  wrap_by(!!nm := cut_number(!!var, !!n))
}
p <-  p + wrap_cut(drat)

plotly::ggplotly(p)
</pre>


{% capture plot_490 %}
  {% raw %}
    {"data":[{"mode":"markers","type":"scatter","xsrc":"nadhil:926:944083","x":[3.215,3.44,3.46,4.07,3.73,3.78,5.25,5.424,3.52,3.435,3.845],"ysrc":"nadhil:926:9e5a62","y":[258,360,225,275.8,275.8,275.8,472,460,318,304,400],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:926:070953","text":["wt:3.215disp:258.0","wt:3.440disp:360.0","wt:3.460disp:225.0","wt:4.070disp:275.8","wt:3.730disp:275.8","wt:3.780disp:275.8","wt:5.250disp:472.0","wt:5.424disp:460.0","wt:3.520disp:318.0","wt:3.435disp:304.0","wt:3.845disp:400.0"],"hoverinfo":"text","showlegend":false},{"mode":"markers","type":"scatter","xsrc":"nadhil:926:b3f5ff","x":[2.62,2.875,2.32,3.57,3.19,5.345,2.465,3.84,1.513,2.77,3.57],"ysrc":"nadhil:926:c8d9d1","y":[160,160,108,360,146.7,440,120.1,350,95.1,145,301],"frame":null,"xaxis":"x2","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:926:cfdf0c","text":["wt:2.620disp:160.0","wt:2.875disp:160.0","wt:2.320disp:108.0","wt:3.570disp:360.0","wt:3.190disp:146.7","wt:5.345disp:440.0","wt:2.465disp:120.1","wt:3.840disp:350.0","wt:1.513disp:95.1","wt:2.770disp:145.0","wt:3.570disp:301.0"],"hoverinfo":"text","showlegend":false},{"mode":"markers","type":"scatter","xsrc":"nadhil:926:bf29db","x":[3.15,3.44,3.44,2.2,1.615,1.835,1.935,2.14,3.17,2.78],"ysrc":"nadhil:926:2b0429","y":[140.8,167.6,167.6,78.7,75.7,71.1,79,120.3,351,121],"frame":null,"xaxis":"x3","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:926:894247","text":["wt:3.150disp:140.8","wt:3.440disp:167.6","wt:3.440disp:167.6","wt:2.200disp:78.7","wt:1.615disp:75.7","wt:1.835disp:71.1","wt:1.935disp:79.0","wt:2.140disp:120.3","wt:3.170disp:351.0","wt:2.780disp:121.0"],"hoverinfo":"text","showlegend":false}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[1.31745,5.61955],"ticks":"outside","title":"","anchor":"y","domain":[0,0.325179386823222],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2","3","4","5"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[51.055,492.045],"ticks":"outside","title":"","anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["100","200","300","400"],"tickvals":[100,200,300,400],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["100","200","300","400"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":43.1050228310502,"r":7.30593607305936,"t":37.9178082191781},"shapes":[{"x0":0,"x1":0.325179386823222,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0,"x1":0.325179386823222,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0.341487279843444,"x1":0.658512720156556,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0.341487279843444,"x1":0.658512720156556,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0.674820613176778,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0.674820613176778,"x1":1,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"}],"xaxis2":{"type":"linear","range":[1.31745,5.61955],"ticks":"outside","title":"","anchor":"y","domain":[0.341487279843444,0.658512720156556],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["2","3","4","5"],"categoryorder":"array","showticklabels":true},"xaxis3":{"type":"linear","range":[1.31745,5.61955],"ticks":"outside","title":"","anchor":"y","domain":[0.674820613176778,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2","3","4","5"],"tickvals":[2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["2","3","4","5"],"categoryorder":"array","showticklabels":true},"barmode":"relative","hovermode":"closest","showlegend":false,"annotations":[{"x":0.5,"y":-0.0353881278538813,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"wt","xref":"paper","yref":"paper","xanchor":"center","yanchor":"top","showarrow":false,"textangle":0,"annotationType":"axis"},{"x":-0.0318003913894325,"y":0.5,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"disp","xref":"paper","yref":"paper","xanchor":"right","yanchor":"center","showarrow":false,"textangle":-90,"annotationType":"axis"},{"x":0.162589693411611,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"drat:[2.76,3.17]","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.5,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"drat:(3.17,3.9]","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.837410306588389,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"drat:(3.9,4.93]","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0}],"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_490
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Facetting/vars/example5_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Facetting/vars/example5_montage.png"
%}



