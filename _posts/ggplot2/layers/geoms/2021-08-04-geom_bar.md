---
  description: Create bar chart and then convert them with ggplotly.
  function: geom_bar
  permalink: /ggplot2/layers/geoms/geom_bar/
  layout: base
  language: ggplot2
  name: geom_bar
  reference: https://ggplot2.tidyverse.org/reference/
---

`geom_bar` is designed to make it easy to create bar charts that show counts (or sums of weights).

# Default bar plot

<pre class="mcode">
g <- ggplot(mpg, aes(class))  
p <-  g + geom_bar()

plotly::ggplotly(p)
</pre>



{% capture plot_156 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil:100:bfe107","x":[1,2,3,4,5,6,7],"ysrc":"nadhil:100:13399d","y":[5,47,41,11,33,35,62],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil:100:a6ae51","base":[0,0,0,0,0,0,0],"textsrc":"nadhil:100:1a9e21","text":["count:5class:2seater","count:47class:compact","count:41class:midsize","count:11class:minivan","count:33class:pickup","count:35class:subcompact","count:62class:suv"],"widthsrc":"nadhil:100:e9df3c","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[0.4,7.6],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"class"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2seater","compact","midsize","minivan","pickup","subcompact","suv"],"tickvals":[1,2,3,4,5,6,7],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2seater","compact","midsize","minivan","pickup","subcompact","suv"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-3.1,65.1],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[0,20,40,60],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","20","40","60"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":37.2602739726027,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_156
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example1_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example1_montage.png"
%}





<pre class="mcode">
g <- ggplot(mpg, aes(class))  
p <-  g + geom_bar(aes(weight = displ))

plotly::ggplotly(p)
</pre>


{% capture plot_157 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil:102:72b840","x":[1,2,3,4,5,6,7],"ysrc":"nadhil:102:36be32","y":[30.8,109.3,119.8,37.3,145.8,93.1,276.3],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil:102:63aa23","base":[0,0,0,0,0,0,0],"textsrc":"nadhil:102:efecd1","text":["count:30.8class:2seater","count:109.3class:compact","count:119.8class:midsize","count:37.3class:minivan","count:145.8class:pickup","count:93.1class:subcompact","count:276.3class:suv"],"widthsrc":"nadhil:102:8acf53","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[0.4,7.6],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"class"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2seater","compact","midsize","minivan","pickup","subcompact","suv"],"tickvals":[1,2,3,4,5,6,7],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2seater","compact","midsize","minivan","pickup","subcompact","suv"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-13.815,290.115],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","100","200"],"tickvals":[0,100,200],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","100","200"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":43.1050228310502,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_157
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example2_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example2_montage.png"
%}


# Changing plot orientation

<pre class="mcode">
g <- ggplot(mpg, aes(class))  
p <-  ggplot(mpg) + geom_bar(aes(y = class))

plotly::ggplotly(p)
</pre>

{% capture plot_158 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil:104:5e4f54","x":[2.5,23.5,20.5,5.5,16.5,17.5,31],"ysrc":"nadhil:104:74d838","y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil:104:b3e154","base":[0.55,1.55,2.55,3.55,4.55,5.55,6.55],"textsrc":"nadhil:104:ad4efb","text":["count:5class:0.9","count:47class:0.9","count:41class:0.9","count:11class:0.9","count:33class:0.9","count:35class:0.9","count:62class:0.9"],"widthsrc":"nadhil:104:974380","width":[5,47,41,11,33,35,62],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[-3.1,65.1],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[0,20,40,60],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","20","40","60"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[0.4,7.6],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"class"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2seater","compact","midsize","minivan","pickup","subcompact","suv"],"tickvals":[1,2,3,4,5,6,7],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2seater","compact","midsize","minivan","pickup","subcompact","suv"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":84.0182648401827,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_158
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example3_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example3_montage.png"
%}

# Stacking bar plots

Bar plots are automatically stacked when multiple bars are at the same location. The order of the fill is designed to match the legend.

<pre class="mcode">
g <- ggplot(mpg, aes(class))  
p <-  g + geom_bar(aes(fill = drv))

plotly::ggplotly(p)
</pre>



{% capture plot_159 %}
  {% raw %}
    {"data":[{"name":"4","type":"bar","xsrc":"nadhil:106:2d03c8","x":[2,3,5,6,7],"ysrc":"nadhil:106:9a07eb","y":[12,3,33,4,51],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(248,118,109,1)","autocolorscale":false},"basesrc":"nadhil:106:f96c80","base":[35,38,0,31,11],"textsrc":"nadhil:106:439c58","text":["count:12class:compactdrv:4","count:3class:midsizedrv:4","count:33class:pickupdrv:4","count:4class:subcompactdrv:4","count:51class:suvdrv:4"],"widthsrc":"nadhil:106:0dda36","width":[0.9,0.9,0.9,0.9,0.9],"hoverinfo":"text","showlegend":true,"legendgroup":"4","orientation":"v"},{"name":"f","type":"bar","xsrc":"nadhil:106:e140f9","x":[2,3,4,6],"ysrc":"nadhil:106:87f5b4","y":[35,38,11,22],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(0,186,56,1)","autocolorscale":false},"basesrc":"nadhil:106:2c5fc5","base":[0,0,0,9],"textsrc":"nadhil:106:45aada","text":["count:35class:compactdrv:f","count:38class:midsizedrv:f","count:11class:minivandrv:f","count:22class:subcompactdrv:f"],"widthsrc":"nadhil:106:2d5948","width":[0.9,0.9,0.9,0.9],"hoverinfo":"text","showlegend":true,"legendgroup":"f","orientation":"v"},{"name":"r","type":"bar","xsrc":"nadhil:106:f5e510","x":[1,6,7],"ysrc":"nadhil:106:1c17a4","y":[5,9,11],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(97,156,255,1)","autocolorscale":false},"basesrc":"nadhil:106:c4f486","base":[0,0,0],"textsrc":"nadhil:106:86c2fe","text":["count:5class:2seaterdrv:r","count:9class:subcompactdrv:r","count:11class:suvdrv:r"],"widthsrc":"nadhil:106:9ceb44","width":[0.9,0.9,0.9],"hoverinfo":"text","showlegend":true,"legendgroup":"r","orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[0.4,7.6],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"class"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2seater","compact","midsize","minivan","pickup","subcompact","suv"],"tickvals":[1,2,3,4,5,6,7],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2seater","compact","midsize","minivan","pickup","subcompact","suv"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-3.1,65.1],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[0,20,40,60],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","20","40","60"],"categoryorder":"array","showticklabels":true},"legend":{"y":0.93503937007874,"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":37.2602739726027,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":true,"annotations":[{"x":1.02,"y":1,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"drv","xref":"paper","yref":"paper","xanchor":"left","yanchor":"bottom","showarrow":false,"textangle":0,"legendTitle":true}],"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_159
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example4_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example4_montage.png"
%}



If you need to flip the order (because you've flipped the orientation) call `position_stack()` explicitly.

<pre class="mcode">
g <- ggplot(mpg, aes(class))  
p <-    
 ggplot(mpg, aes(y = class)) +
 geom_bar(aes(fill = drv), position = position_stack(reverse = TRUE)) +
 theme(legend.position = "top")
 
plotly::ggplotly(p)
</pre>


{% capture plot_160 %}
  {% raw %}
    {"data":[{"name":"4","type":"bar","xsrc":"nadhil:108:23924b","x":[6,1.5,16.5,2,25.5],"ysrc":"nadhil:108:484588","y":[0.9,0.9,0.9,0.9,0.9],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(248,118,109,1)","autocolorscale":false},"basesrc":"nadhil:108:1e4242","base":[1.55,2.55,4.55,5.55,6.55],"textsrc":"nadhil:108:762393","text":["count:12class:0.9drv:4","count:3class:0.9drv:4","count:33class:0.9drv:4","count:4class:0.9drv:4","count:51class:0.9drv:4"],"widthsrc":"nadhil:108:23bac0","width":[12,3,33,4,51],"hoverinfo":"text","showlegend":true,"legendgroup":"4","orientation":"v"},{"name":"f","type":"bar","xsrc":"nadhil:108:58e3ef","x":[29.5,22,5.5,15],"ysrc":"nadhil:108:4ecc69","y":[0.9,0.9,0.9,0.9],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(0,186,56,1)","autocolorscale":false},"basesrc":"nadhil:108:dcbd35","base":[1.55,2.55,3.55,5.55],"textsrc":"nadhil:108:65147d","text":["count:47class:0.9drv:f","count:41class:0.9drv:f","count:11class:0.9drv:f","count:26class:0.9drv:f"],"widthsrc":"nadhil:108:896532","width":[35,38,11,22],"hoverinfo":"text","showlegend":true,"legendgroup":"f","orientation":"v"},{"name":"r","type":"bar","xsrc":"nadhil:108:9b9a6e","x":[2.5,30.5,56.5],"ysrc":"nadhil:108:65df5e","y":[0.9,0.9,0.9],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(97,156,255,1)","autocolorscale":false},"basesrc":"nadhil:108:19dde8","base":[0.55,5.55,6.55],"textsrc":"nadhil:108:d7a38c","text":["count:5class:0.9drv:r","count:35class:0.9drv:r","count:62class:0.9drv:r"],"widthsrc":"nadhil:108:6a5ada","width":[5,9,11],"hoverinfo":"text","showlegend":true,"legendgroup":"r","orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[-3.1,65.1],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[0,20,40,60],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","20","40","60"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[0.4,7.6],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"class"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2seater","compact","midsize","minivan","pickup","subcompact","suv"],"tickvals":[1,2,3,4,5,6,7],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2seater","compact","midsize","minivan","pickup","subcompact","suv"],"categoryorder":"array","showticklabels":true},"legend":{"y":0.93503937007874,"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":84.0182648401827,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":true,"annotations":[{"x":1.02,"y":1,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"drv","xref":"paper","yref":"paper","xanchor":"left","yanchor":"bottom","showarrow":false,"textangle":0,"legendTitle":true}],"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_160
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example5_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example5_montage.png"
%}



# Showing mean

<pre class="mcode">
df <- data.frame(trt = c("a", "b", "c"), outcome = c(2.3, 1.9, 3.2))  
p <-    
 ggplot(df, aes(trt, outcome)) +
  geom_col()
  
plotly::ggplotly(p)
</pre>



{% capture plot_161 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil:110:6ee94c","x":[1,2,3],"ysrc":"nadhil:110:60b420","y":[2.3,1.9,3.2],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil:110:fc58bc","base":[0,0,0],"textsrc":"nadhil:110:ca0d19","text":["trt:aoutcome:2.3","trt:boutcome:1.9","trt:coutcome:3.2"],"widthsrc":"nadhil:110:001085","width":[0.9,0.9,0.9],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[0.4,3.6],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"trt"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["a","b","c"],"tickvals":[1,2,3],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["a","b","c"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-0.16,3.36],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"outcome"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","1","2","3"],"tickvals":[0,1,2,3],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","1","2","3"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":31.4155251141553,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_161
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example6_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example6_montage.png"
%}

`geom_point()` displays exactly the same information and doesn't require the y-axis to touch zero.


<pre class="mcode">
df <- data.frame(trt = c("a", "b", "c"), outcome = c(2.3, 1.9, 3.2))  
p <-    
 ggplot(df, aes(trt, outcome)) +
  geom_point()
  
plotly::ggplotly(p)
</pre>

{% capture plot_162 %}
  {% raw %}
    {"data":[{"mode":"markers","type":"scatter","xsrc":"nadhil:112:d46855","x":[1,2,3],"ysrc":"nadhil:112:dd39c3","y":[2.3,1.9,3.2],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:112:b99489","text":["trt:aoutcome:2.3","trt:boutcome:1.9","trt:coutcome:3.2"],"hoverinfo":"text","showlegend":false}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[0.4,3.6],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"trt"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["a","b","c"],"tickvals":[1,2,3],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["a","b","c"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[1.835,3.265],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"outcome"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2.1","2.4","2.7","3.0"],"tickvals":[2.1,2.4,2.7,3],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2.1","2.4","2.7","3.0"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":43.1050228310502,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_162
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example7_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example7_montage.png"
%}



You can also use `geom_bar()` with continuous data, in which case it will show counts at unique locations.

<pre class="mcode">
df <- data.frame(x = rep(c(2.9, 3.1, 4.5), c(5, 10, 4)))  
p <-  ggplot(df, aes(x)) + geom_bar()

plotly::ggplotly(p)
</pre>


{% capture plot_163 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil:114:356beb","x":[2.9,3.1,4.5],"ysrc":"nadhil:114:f4bc5b","y":[5,10,4],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil:114:8cfe50","base":[0,0,0],"textsrc":"nadhil:114:2a8a41","text":["count:5x:2.9","count:10x:3.1","count:4x:4.5"],"widthsrc":"nadhil:114:a468bc","width":[0.180000000000001,0.180000000000001,0.18],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[2.721,4.679],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"x"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["3.0","3.5","4.0","4.5"],"tickvals":[3,3.5,4,4.5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["3.0","3.5","4.0","4.5"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-0.5,10.5],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0.0","2.5","5.0","7.5","10.0"],"tickvals":[0,2.5,5,7.5,10],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0.0","2.5","5.0","7.5","10.0"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":48.9497716894977,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_163
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example8_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example8_montage.png"
%}


# Using binwidth 


<pre class="mcode">
df <- data.frame(x = rep(c(2.9, 3.1, 4.5), c(5, 10, 4)))  
p <-  ggplot(df, aes(x)) + geom_histogram(binwidth = 0.5)

plotly::ggplotly(p)
</pre>


{% capture plot_164 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil:116:a3be25","x":[3,3.5,4,4.5],"ysrc":"nadhil:116:ad8965","y":[15,0,0,4],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil:116:8c8a74","base":[0,0,0,0],"textsrc":"nadhil:116:ccf652","text":["count:15x:3.0","count:0x:3.5","count:0x:4.0","count:4x:4.5"],"widthsrc":"nadhil:116:c2e5da","width":[0.5,0.5,0.5,0.5],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[2.65,4.85],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"x"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["3.0","3.5","4.0","4.5"],"tickvals":[3,3.5,4,4.5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["3.0","3.5","4.0","4.5"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-0.75,15.75],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","5","10","15"],"tickvals":[0,5,10,15],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","5","10","15"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":37.2602739726027,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_164
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example9_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_bar/example9_montage.png"
%}
