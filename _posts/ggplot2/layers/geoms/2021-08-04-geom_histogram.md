---
  description: Visualise the distribution of a single continuous variable by dividing the x axis into bins and counting the number of observations in each bin and then convert them with ggplotly
  function: geom_histogram
  permalink: /ggplot2/layers/geoms/geom_histogram/
  layout: base
  language: ggplot2
  name: geom_histogram
  reference: https://ggplot2.tidyverse.org/reference/
---

# Default histogram plot


<pre class="mcode">
p <-    
 ggplot(diamonds, aes(carat)) +
  geom_histogram()
  
plotly::ggplotly(p)
</pre>



{% capture plot_21 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil2:73:7e1b87","x":[0.165862068965517,0.331724137931034,0.497586206896552,0.663448275862069,0.829310344827586,0.995172413793103,1.16103448275862,1.32689655172414,1.49275862068966,1.65862068965517,1.82448275862069,1.99034482758621,2.15620689655172,2.32206896551724,2.48793103448276,2.65379310344828,2.81965517241379,2.98551724137931,3.15137931034483,3.31724137931034,3.48310344827586,3.64896551724138,3.8148275862069,3.98068965517241,4.14655172413793,4.31241379310345,4.47827586206896,4.64413793103448,4.81,4.97586206896552],"ysrc":"nadhil2:73:2374c9","y":[573,15200,8165,6096,4138,7465,4436,1458,2888,1104,221,1309,488,211,114,26,8,26,2,2,2,2,0,3,1,0,1,0,0,1],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil2:73:2b3869","base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"textsrc":"nadhil2:73:f7cddc","text":["count:573carat:0.1658621","count:15200carat:0.3317241","count:8165carat:0.4975862","count:6096carat:0.6634483","count:4138carat:0.8293103","count:7465carat:0.9951724","count:4436carat:1.1610345","count:1458carat:1.3268966","count:2888carat:1.4927586","count:1104carat:1.6586207","count:221carat:1.8244828","count:1309carat:1.9903448","count:488carat:2.1562069","count:211carat:2.3220690","count:114carat:2.4879310","count:26carat:2.6537931","count:8carat:2.8196552","count:26carat:2.9855172","count:2carat:3.1513793","count:2carat:3.3172414","count:2carat:3.4831034","count:2carat:3.6489655","count:0carat:3.8148276","count:3carat:3.9806897","count:1carat:4.1465517","count:0carat:4.3124138","count:1carat:4.4782759","count:0carat:4.6441379","count:0carat:4.8100000","count:1carat:4.9758621"],"widthsrc":"nadhil2:73:4b92c8","width":[0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[-0.165862068965517,5.30758620689655],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"carat"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","1","2","3","4","5"],"tickvals":[0,1,2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","1","2","3","4","5"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-760,15960],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","5000","10000","15000"],"tickvals":[0,5000,10000,15000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","5000","10000","15000"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":54.7945205479452,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_21
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example1_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example1_montage.png"
%}

# Changing bin width

<pre class="mcode">
p <-    
 ggplot(diamonds, aes(carat)) +
  geom_histogram(binwidth = 0.01)
  
plotly::ggplotly(p)
</pre>


{% capture plot_22 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil2:75:a1d072","x":[0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99,1,1.01,1.02,1.03,1.04,1.05,1.06,1.07,1.08,1.09,1.1,1.11,1.12,1.13,1.14,1.15,1.16,1.17,1.18,1.19,1.2,1.21,1.22,1.23,1.24,1.25,1.26,1.27,1.28,1.29,1.3,1.31,1.32,1.33,1.34,1.35,1.36,1.37,1.38,1.39,1.4,1.41,1.42,1.43,1.44,1.45,1.46,1.47,1.48,1.49,1.5,1.51,1.52,1.53,1.54,1.55,1.56,1.57,1.58,1.59,1.6,1.61,1.62,1.63,1.64,1.65,1.66,1.67,1.68,1.69,1.7,1.71,1.72,1.73,1.74,1.75,1.76,1.77,1.78,1.79,1.8,1.81,1.82,1.83,1.84,1.85,1.86,1.87,1.88,1.89,1.9,1.91,1.92,1.93,1.94,1.95,1.96,1.97,1.98,1.99,2,2.01,2.02,2.03,2.04,2.05,2.06,2.07,2.08,2.09,2.1,2.11,2.12,2.13,2.14,2.15,2.16,2.17,2.18,2.19,2.2,2.21,2.22,2.23,2.24,2.25,2.26,2.27,2.28,2.29,2.3,2.31,2.32,2.33,2.34,2.35,2.36,2.37,2.38,2.39,2.4,2.41,2.42,2.43,2.44,2.45,2.46,2.47,2.48,2.49,2.5,2.51,2.52,2.53,2.54,2.55,2.56,2.57,2.58,2.59,2.6,2.61,2.62,2.63,2.64,2.65,2.66,2.67,2.68,2.69,2.7,2.71,2.72,2.73,2.74,2.75,2.76,2.77,2.78,2.79,2.8,2.81,2.82,2.83,2.84,2.85,2.86,2.87,2.88,2.89,2.9,2.91,2.92,2.93,2.94,2.95,2.96,2.97,2.98,2.99,3,3.01,3.02,3.03,3.04,3.05,3.06,3.07,3.08,3.09,3.1,3.11,3.12,3.13,3.14,3.15,3.16,3.17,3.18,3.19,3.2,3.21,3.22,3.23,3.24,3.25,3.26,3.27,3.28,3.29,3.3,3.31,3.32,3.33,3.34,3.35,3.36,3.37,3.38,3.39,3.4,3.41,3.42,3.43,3.44,3.45,3.46,3.47,3.48,3.49,3.5,3.51,3.52,3.53,3.54,3.55,3.56,3.57,3.58,3.59,3.6,3.61,3.62,3.63,3.64,3.65,3.66,3.67,3.68,3.69,3.7,3.71,3.72,3.73,3.74,3.75,3.76,3.77,3.78,3.79,3.8,3.81,3.82,3.83,3.84,3.85,3.86,3.87,3.88,3.89,3.9,3.91,3.92,3.93,3.94,3.95,3.96,3.97,3.98,3.99,4,4.01,4.02,4.03,4.04,4.05,4.06,4.07,4.08,4.09,4.1,4.11,4.12,4.13,4.14,4.15,4.16,4.17,4.18,4.19,4.2,4.21,4.22,4.23,4.24,4.25,4.26,4.27,4.28,4.29,4.3,4.31,4.32,4.33,4.34,4.35,4.36,4.37,4.38,4.39,4.4,4.41,4.42,4.43,4.44,4.45,4.46,4.47,4.48,4.49,4.5,4.51,4.52,4.53,4.54,4.55,4.56,4.57,4.58,4.59,4.6,4.61,4.62,4.63,4.64,4.65,4.66,4.67,4.68,4.69,4.7,4.71,4.72,4.73,4.74,4.75,4.76,4.77,4.78,4.79,4.8,4.81,4.82,4.83,4.84,4.85,4.86,4.87,4.88,4.89,4.9,4.91,4.92,4.93,4.94,4.95,4.96,4.97,4.98,4.99,5,5.01],"ysrc":"nadhil2:75:8df4cb","y":[12,9,5,293,254,212,253,233,198,130,2604,2249,1840,1189,910,667,572,394,670,398,1299,1382,706,488,212,110,178,99,63,45,1258,1127,817,709,625,496,492,430,310,282,228,204,135,102,80,65,48,48,25,26,1981,1294,764,492,322,249,251,251,187,155,284,200,140,131,64,62,34,31,23,21,1485,570,226,142,59,65,103,59,31,23,1558,2242,883,523,475,361,373,342,246,287,278,308,251,246,207,149,172,110,123,126,645,473,300,279,236,187,146,134,106,101,122,133,89,87,68,77,50,46,26,36,50,40,25,19,18,15,18,21,7,11,793,807,381,220,174,124,109,106,89,89,95,64,61,50,43,32,30,25,19,24,215,119,57,52,40,50,28,17,12,15,21,9,13,18,4,3,9,7,4,4,7,12,2,6,3,3,4,4,5,3,265,440,177,122,86,67,60,50,41,45,52,43,25,21,48,22,25,18,31,22,32,23,27,13,16,18,15,12,20,17,21,13,16,9,5,7,8,6,8,7,13,5,8,6,4,4,3,3,9,3,17,17,9,8,9,3,3,3,3,1,3,3,0,3,1,1,3,1,2,0,1,1,3,0,3,2,0,1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,14,1,0,2,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil2:75:d957bc","base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"textsrc":"nadhil2:75:42dcce","text":["count:12carat:0.20","count:9carat:0.21","count:5carat:0.22","count:293carat:0.23","count:254carat:0.24","count:212carat:0.25","count:253carat:0.26","count:233carat:0.27","count:198carat:0.28","count:130carat:0.29","count:2604carat:0.30","count:2249carat:0.31","count:1840carat:0.32","count:1189carat:0.33","count:910carat:0.34","count:667carat:0.35","count:572carat:0.36","count:394carat:0.37","count:670carat:0.38","count:398carat:0.39","count:1299carat:0.40","count:1382carat:0.41","count:706carat:0.42","count:488carat:0.43","count:212carat:0.44","count:110carat:0.45","count:178carat:0.46","count:99carat:0.47","count:63carat:0.48","count:45carat:0.49","count:1258carat:0.50","count:1127carat:0.51","count:817carat:0.52","count:709carat:0.53","count:625carat:0.54","count:496carat:0.55","count:492carat:0.56","count:430carat:0.57","count:310carat:0.58","count:282carat:0.59","count:228carat:0.60","count:204carat:0.61","count:135carat:0.62","count:102carat:0.63","count:80carat:0.64","count:65carat:0.65","count:48carat:0.66","count:48carat:0.67","count:25carat:0.68","count:26carat:0.69","count:1981carat:0.70","count:1294carat:0.71","count:764carat:0.72","count:492carat:0.73","count:322carat:0.74","count:249carat:0.75","count:251carat:0.76","count:251carat:0.77","count:187carat:0.78","count:155carat:0.79","count:284carat:0.80","count:200carat:0.81","count:140carat:0.82","count:131carat:0.83","count:64carat:0.84","count:62carat:0.85","count:34carat:0.86","count:31carat:0.87","count:23carat:0.88","count:21carat:0.89","count:1485carat:0.90","count:570carat:0.91","count:226carat:0.92","count:142carat:0.93","count:59carat:0.94","count:65carat:0.95","count:103carat:0.96","count:59carat:0.97","count:31carat:0.98","count:23carat:0.99","count:1558carat:1.00","count:2242carat:1.01","count:883carat:1.02","count:523carat:1.03","count:475carat:1.04","count:361carat:1.05","count:373carat:1.06","count:342carat:1.07","count:246carat:1.08","count:287carat:1.09","count:278carat:1.10","count:308carat:1.11","count:251carat:1.12","count:246carat:1.13","count:207carat:1.14","count:149carat:1.15","count:172carat:1.16","count:110carat:1.17","count:123carat:1.18","count:126carat:1.19","count:645carat:1.20","count:473carat:1.21","count:300carat:1.22","count:279carat:1.23","count:236carat:1.24","count:187carat:1.25","count:146carat:1.26","count:134carat:1.27","count:106carat:1.28","count:101carat:1.29","count:122carat:1.30","count:133carat:1.31","count:89carat:1.32","count:87carat:1.33","count:68carat:1.34","count:77carat:1.35","count:50carat:1.36","count:46carat:1.37","count:26carat:1.38","count:36carat:1.39","count:50carat:1.40","count:40carat:1.41","count:25carat:1.42","count:19carat:1.43","count:18carat:1.44","count:15carat:1.45","count:18carat:1.46","count:21carat:1.47","count:7carat:1.48","count:11carat:1.49","count:793carat:1.50","count:807carat:1.51","count:381carat:1.52","count:220carat:1.53","count:174carat:1.54","count:124carat:1.55","count:109carat:1.56","count:106carat:1.57","count:89carat:1.58","count:89carat:1.59","count:95carat:1.60","count:64carat:1.61","count:61carat:1.62","count:50carat:1.63","count:43carat:1.64","count:32carat:1.65","count:30carat:1.66","count:25carat:1.67","count:19carat:1.68","count:24carat:1.69","count:215carat:1.70","count:119carat:1.71","count:57carat:1.72","count:52carat:1.73","count:40carat:1.74","count:50carat:1.75","count:28carat:1.76","count:17carat:1.77","count:12carat:1.78","count:15carat:1.79","count:21carat:1.80","count:9carat:1.81","count:13carat:1.82","count:18carat:1.83","count:4carat:1.84","count:3carat:1.85","count:9carat:1.86","count:7carat:1.87","count:4carat:1.88","count:4carat:1.89","count:7carat:1.90","count:12carat:1.91","count:2carat:1.92","count:6carat:1.93","count:3carat:1.94","count:3carat:1.95","count:4carat:1.96","count:4carat:1.97","count:5carat:1.98","count:3carat:1.99","count:265carat:2.00","count:440carat:2.01","count:177carat:2.02","count:122carat:2.03","count:86carat:2.04","count:67carat:2.05","count:60carat:2.06","count:50carat:2.07","count:41carat:2.08","count:45carat:2.09","count:52carat:2.10","count:43carat:2.11","count:25carat:2.12","count:21carat:2.13","count:48carat:2.14","count:22carat:2.15","count:25carat:2.16","count:18carat:2.17","count:31carat:2.18","count:22carat:2.19","count:32carat:2.20","count:23carat:2.21","count:27carat:2.22","count:13carat:2.23","count:16carat:2.24","count:18carat:2.25","count:15carat:2.26","count:12carat:2.27","count:20carat:2.28","count:17carat:2.29","count:21carat:2.30","count:13carat:2.31","count:16carat:2.32","count:9carat:2.33","count:5carat:2.34","count:7carat:2.35","count:8carat:2.36","count:6carat:2.37","count:8carat:2.38","count:7carat:2.39","count:13carat:2.40","count:5carat:2.41","count:8carat:2.42","count:6carat:2.43","count:4carat:2.44","count:4carat:2.45","count:3carat:2.46","count:3carat:2.47","count:9carat:2.48","count:3carat:2.49","count:17carat:2.50","count:17carat:2.51","count:9carat:2.52","count:8carat:2.53","count:9carat:2.54","count:3carat:2.55","count:3carat:2.56","count:3carat:2.57","count:3carat:2.58","count:1carat:2.59","count:3carat:2.60","count:3carat:2.61","count:0carat:2.62","count:3carat:2.63","count:1carat:2.64","count:1carat:2.65","count:3carat:2.66","count:1carat:2.67","count:2carat:2.68","count:0carat:2.69","count:1carat:2.70","count:1carat:2.71","count:3carat:2.72","count:0carat:2.73","count:3carat:2.74","count:2carat:2.75","count:0carat:2.76","count:1carat:2.77","count:0carat:2.78","count:0carat:2.79","count:2carat:2.80","count:0carat:2.81","count:0carat:2.82","count:0carat:2.83","count:0carat:2.84","count:0carat:2.85","count:0carat:2.86","count:0carat:2.87","count:0carat:2.88","count:0carat:2.89","count:0carat:2.90","count:0carat:2.91","count:0carat:2.92","count:0carat:2.93","count:0carat:2.94","count:0carat:2.95","count:0carat:2.96","count:0carat:2.97","count:0carat:2.98","count:0carat:2.99","count:8carat:3.00","count:14carat:3.01","count:1carat:3.02","count:0carat:3.03","count:2carat:3.04","count:1carat:3.05","count:0carat:3.06","count:0carat:3.07","count:0carat:3.08","count:0carat:3.09","count:0carat:3.10","count:1carat:3.11","count:0carat:3.12","count:0carat:3.13","count:0carat:3.14","count:0carat:3.15","count:0carat:3.16","count:0carat:3.17","count:0carat:3.18","count:0carat:3.19","count:0carat:3.20","count:0carat:3.21","count:1carat:3.22","count:0carat:3.23","count:1carat:3.24","count:0carat:3.25","count:0carat:3.26","count:0carat:3.27","count:0carat:3.28","count:0carat:3.29","count:0carat:3.30","count:0carat:3.31","count:0carat:3.32","count:0carat:3.33","count:0carat:3.34","count:0carat:3.35","count:0carat:3.36","count:0carat:3.37","count:0carat:3.38","count:0carat:3.39","count:1carat:3.40","count:0carat:3.41","count:0carat:3.42","count:0carat:3.43","count:0carat:3.44","count:0carat:3.45","count:0carat:3.46","count:0carat:3.47","count:0carat:3.48","count:0carat:3.49","count:1carat:3.50","count:1carat:3.51","count:0carat:3.52","count:0carat:3.53","count:0carat:3.54","count:0carat:3.55","count:0carat:3.56","count:0carat:3.57","count:0carat:3.58","count:0carat:3.59","count:0carat:3.60","count:0carat:3.61","count:0carat:3.62","count:0carat:3.63","count:0carat:3.64","count:1carat:3.65","count:0carat:3.66","count:1carat:3.67","count:0carat:3.68","count:0carat:3.69","count:0carat:3.70","count:0carat:3.71","count:0carat:3.72","count:0carat:3.73","count:0carat:3.74","count:0carat:3.75","count:0carat:3.76","count:0carat:3.77","count:0carat:3.78","count:0carat:3.79","count:0carat:3.80","count:0carat:3.81","count:0carat:3.82","count:0carat:3.83","count:0carat:3.84","count:0carat:3.85","count:0carat:3.86","count:0carat:3.87","count:0carat:3.88","count:0carat:3.89","count:0carat:3.90","count:0carat:3.91","count:0carat:3.92","count:0carat:3.93","count:0carat:3.94","count:0carat:3.95","count:0carat:3.96","count:0carat:3.97","count:0carat:3.98","count:0carat:3.99","count:1carat:4.00","count:2carat:4.01","count:0carat:4.02","count:0carat:4.03","count:0carat:4.04","count:0carat:4.05","count:0carat:4.06","count:0carat:4.07","count:0carat:4.08","count:0carat:4.09","count:0carat:4.10","count:0carat:4.11","count:0carat:4.12","count:1carat:4.13","count:0carat:4.14","count:0carat:4.15","count:0carat:4.16","count:0carat:4.17","count:0carat:4.18","count:0carat:4.19","count:0carat:4.20","count:0carat:4.21","count:0carat:4.22","count:0carat:4.23","count:0carat:4.24","count:0carat:4.25","count:0carat:4.26","count:0carat:4.27","count:0carat:4.28","count:0carat:4.29","count:0carat:4.30","count:0carat:4.31","count:0carat:4.32","count:0carat:4.33","count:0carat:4.34","count:0carat:4.35","count:0carat:4.36","count:0carat:4.37","count:0carat:4.38","count:0carat:4.39","count:0carat:4.40","count:0carat:4.41","count:0carat:4.42","count:0carat:4.43","count:0carat:4.44","count:0carat:4.45","count:0carat:4.46","count:0carat:4.47","count:0carat:4.48","count:0carat:4.49","count:1carat:4.50","count:0carat:4.51","count:0carat:4.52","count:0carat:4.53","count:0carat:4.54","count:0carat:4.55","count:0carat:4.56","count:0carat:4.57","count:0carat:4.58","count:0carat:4.59","count:0carat:4.60","count:0carat:4.61","count:0carat:4.62","count:0carat:4.63","count:0carat:4.64","count:0carat:4.65","count:0carat:4.66","count:0carat:4.67","count:0carat:4.68","count:0carat:4.69","count:0carat:4.70","count:0carat:4.71","count:0carat:4.72","count:0carat:4.73","count:0carat:4.74","count:0carat:4.75","count:0carat:4.76","count:0carat:4.77","count:0carat:4.78","count:0carat:4.79","count:0carat:4.80","count:0carat:4.81","count:0carat:4.82","count:0carat:4.83","count:0carat:4.84","count:0carat:4.85","count:0carat:4.86","count:0carat:4.87","count:0carat:4.88","count:0carat:4.89","count:0carat:4.90","count:0carat:4.91","count:0carat:4.92","count:0carat:4.93","count:0carat:4.94","count:0carat:4.95","count:0carat:4.96","count:0carat:4.97","count:0carat:4.98","count:0carat:4.99","count:0carat:5.00","count:1carat:5.01"],"widthsrc":"nadhil2:75:25f51f","width":[0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.00999999999999979,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.00999999999999979,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.0099999999999999,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979,0.00999999999999979,0.00999999999999979,0.0100000000000016,0.00999999999999979],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[-0.046,5.256],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"carat"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","1","2","3","4","5"],"tickvals":[0,1,2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","1","2","3","4","5"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-130.2,2734.2],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","1000","2000"],"tickvals":[0,1000,2000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","1000","2000"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":48.9497716894977,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_22
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example2_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example2_montage.png"
%}



You can also change the width by specifying maximum number of bins.


<pre class="mcode">
p <-    
 ggplot(diamonds, aes(carat)) +
  geom_histogram(bins = 200)
  
plotly::ggplotly(p)
</pre>


{% capture plot_23 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil2:77:5a04e3","x":[0.193366834170854,0.217537688442211,0.241708542713568,0.265879396984925,0.290050251256281,0.314221105527638,0.338391959798995,0.362562814070352,0.386733668341709,0.410904522613065,0.435075376884422,0.459246231155779,0.483417085427136,0.507587939698492,0.531758793969849,0.555929648241206,0.580100502512563,0.60427135678392,0.628442211055276,0.652613065326633,0.67678391959799,0.700954773869347,0.725125628140704,0.74929648241206,0.773467336683417,0.797638190954774,0.821809045226131,0.845979899497487,0.870150753768844,0.894321608040201,0.918492462311558,0.942663316582914,0.966834170854271,0.991005025125628,1.01517587939698,1.03934673366834,1.0635175879397,1.08768844221106,1.11185929648241,1.13603015075377,1.16020100502513,1.18437185929648,1.20854271356784,1.2327135678392,1.25688442211055,1.28105527638191,1.30522613065327,1.32939698492462,1.35356783919598,1.37773869346734,1.40190954773869,1.42608040201005,1.45025125628141,1.47442211055276,1.49859296482412,1.52276381909548,1.54693467336683,1.57110552763819,1.59527638190955,1.6194472361809,1.64361809045226,1.66778894472362,1.69195979899497,1.71613065326633,1.74030150753769,1.76447236180904,1.7886432160804,1.81281407035176,1.83698492462312,1.86115577889447,1.88532663316583,1.90949748743719,1.93366834170854,1.9578391959799,1.98201005025126,2.00618090452261,2.03035175879397,2.05452261306533,2.07869346733668,2.10286432160804,2.1270351758794,2.15120603015075,2.17537688442211,2.19954773869347,2.22371859296482,2.24788944723618,2.27206030150754,2.29623115577889,2.32040201005025,2.34457286432161,2.36874371859296,2.39291457286432,2.41708542713568,2.44125628140704,2.46542713567839,2.48959798994975,2.51376884422111,2.53793969849246,2.56211055276382,2.58628140703518,2.61045226130653,2.63462311557789,2.65879396984925,2.6829648241206,2.70713567839196,2.73130653266332,2.75547738693467,2.77964824120603,2.80381909547739,2.82798994974874,2.8521608040201,2.87633165829146,2.90050251256281,2.92467336683417,2.94884422110553,2.97301507537688,2.99718592964824,3.0213567839196,3.04552763819096,3.06969849246231,3.09386934673367,3.11804020100503,3.14221105527638,3.16638190954774,3.1905527638191,3.21472361809045,3.23889447236181,3.26306532663317,3.28723618090452,3.31140703517588,3.33557788944724,3.35974874371859,3.38391959798995,3.40809045226131,3.43226130653266,3.45643216080402,3.48060301507538,3.50477386934673,3.52894472361809,3.55311557788945,3.5772864321608,3.60145728643216,3.62562814070352,3.64979899497487,3.67396984924623,3.69814070351759,3.72231155778894,3.7464824120603,3.77065326633166,3.79482412060301,3.81899497487437,3.84316582914573,3.86733668341709,3.89150753768844,3.9156783919598,3.93984924623116,3.96402010050251,3.98819095477387,4.01236180904523,4.03653266331658,4.06070351758794,4.0848743718593,4.10904522613065,4.13321608040201,4.15738693467337,4.18155778894472,4.20572864321608,4.22989949748744,4.25407035175879,4.27824120603015,4.30241206030151,4.32658291457286,4.35075376884422,4.37492462311558,4.39909547738693,4.42326633165829,4.44743718592965,4.471608040201,4.49577889447236,4.51994974874372,4.54412060301508,4.56829145728643,4.59246231155779,4.61663316582915,4.6408040201005,4.66497487437186,4.68914572864321,4.71331658291457,4.73748743718593,4.76165829145729,4.78582914572864,4.81,4.83417085427136,4.85834170854271,4.88251256281407,4.90668341708543,4.93085427135678,4.95502512562814,4.9791959798995,5.00336683417085],"ysrc":"nadhil2:77:f716a8","y":[12,14,759,486,2932,4089,2766,966,1068,3387,700,387,108,2385,2151,988,1022,432,317,113,73,3301,1256,822,438,439,471,126,88,1506,938,124,162,1612,3125,1359,715,533,837,453,431,249,1418,515,333,341,255,244,127,72,126,44,51,28,1611,601,298,304,184,175,75,55,258,176,142,45,48,22,22,19,8,21,9,7,12,705,385,127,136,95,46,95,49,77,40,34,47,38,38,12,22,20,13,14,6,29,26,20,6,4,6,4,5,2,2,6,2,1,2,0,0,0,0,0,0,0,8,15,3,0,0,1,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,2,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil2:77:3d4bfa","base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"textsrc":"nadhil2:77:e26f36","text":["count:12carat:0.1933668","count:14carat:0.2175377","count:759carat:0.2417085","count:486carat:0.2658794","count:2932carat:0.2900503","count:4089carat:0.3142211","count:2766carat:0.3383920","count:966carat:0.3625628","count:1068carat:0.3867337","count:3387carat:0.4109045","count:700carat:0.4350754","count:387carat:0.4592462","count:108carat:0.4834171","count:2385carat:0.5075879","count:2151carat:0.5317588","count:988carat:0.5559296","count:1022carat:0.5801005","count:432carat:0.6042714","count:317carat:0.6284422","count:113carat:0.6526131","count:73carat:0.6767839","count:3301carat:0.7009548","count:1256carat:0.7251256","count:822carat:0.7492965","count:438carat:0.7734673","count:439carat:0.7976382","count:471carat:0.8218090","count:126carat:0.8459799","count:88carat:0.8701508","count:1506carat:0.8943216","count:938carat:0.9184925","count:124carat:0.9426633","count:162carat:0.9668342","count:1612carat:0.9910050","count:3125carat:1.0151759","count:1359carat:1.0393467","count:715carat:1.0635176","count:533carat:1.0876884","count:837carat:1.1118593","count:453carat:1.1360302","count:431carat:1.1602010","count:249carat:1.1843719","count:1418carat:1.2085427","count:515carat:1.2327136","count:333carat:1.2568844","count:341carat:1.2810553","count:255carat:1.3052261","count:244carat:1.3293970","count:127carat:1.3535678","count:72carat:1.3777387","count:126carat:1.4019095","count:44carat:1.4260804","count:51carat:1.4502513","count:28carat:1.4744221","count:1611carat:1.4985930","count:601carat:1.5227638","count:298carat:1.5469347","count:304carat:1.5711055","count:184carat:1.5952764","count:175carat:1.6194472","count:75carat:1.6436181","count:55carat:1.6677889","count:258carat:1.6919598","count:176carat:1.7161307","count:142carat:1.7403015","count:45carat:1.7644724","count:48carat:1.7886432","count:22carat:1.8128141","count:22carat:1.8369849","count:19carat:1.8611558","count:8carat:1.8853266","count:21carat:1.9094975","count:9carat:1.9336683","count:7carat:1.9578392","count:12carat:1.9820101","count:705carat:2.0061809","count:385carat:2.0303518","count:127carat:2.0545226","count:136carat:2.0786935","count:95carat:2.1028643","count:46carat:2.1270352","count:95carat:2.1512060","count:49carat:2.1753769","count:77carat:2.1995477","count:40carat:2.2237186","count:34carat:2.2478894","count:47carat:2.2720603","count:38carat:2.2962312","count:38carat:2.3204020","count:12carat:2.3445729","count:22carat:2.3687437","count:20carat:2.3929146","count:13carat:2.4170854","count:14carat:2.4412563","count:6carat:2.4654271","count:29carat:2.4895980","count:26carat:2.5137688","count:20carat:2.5379397","count:6carat:2.5621106","count:4carat:2.5862814","count:6carat:2.6104523","count:4carat:2.6346231","count:5carat:2.6587940","count:2carat:2.6829648","count:2carat:2.7071357","count:6carat:2.7313065","count:2carat:2.7554774","count:1carat:2.7796482","count:2carat:2.8038191","count:0carat:2.8279899","count:0carat:2.8521608","count:0carat:2.8763317","count:0carat:2.9005025","count:0carat:2.9246734","count:0carat:2.9488442","count:0carat:2.9730151","count:8carat:2.9971859","count:15carat:3.0213568","count:3carat:3.0455276","count:0carat:3.0696985","count:0carat:3.0938693","count:1carat:3.1180402","count:0carat:3.1422111","count:0carat:3.1663819","count:0carat:3.1905528","count:1carat:3.2147236","count:1carat:3.2388945","count:0carat:3.2630653","count:0carat:3.2872362","count:0carat:3.3114070","count:0carat:3.3355779","count:0carat:3.3597487","count:0carat:3.3839196","count:1carat:3.4080905","count:0carat:3.4322613","count:0carat:3.4564322","count:0carat:3.4806030","count:2carat:3.5047739","count:0carat:3.5289447","count:0carat:3.5531156","count:0carat:3.5772864","count:0carat:3.6014573","count:0carat:3.6256281","count:1carat:3.6497990","count:1carat:3.6739698","count:0carat:3.6981407","count:0carat:3.7223116","count:0carat:3.7464824","count:0carat:3.7706533","count:0carat:3.7948241","count:0carat:3.8189950","count:0carat:3.8431658","count:0carat:3.8673367","count:0carat:3.8915075","count:0carat:3.9156784","count:0carat:3.9398492","count:0carat:3.9640201","count:1carat:3.9881910","count:2carat:4.0123618","count:0carat:4.0365327","count:0carat:4.0607035","count:0carat:4.0848744","count:0carat:4.1090452","count:1carat:4.1332161","count:0carat:4.1573869","count:0carat:4.1815578","count:0carat:4.2057286","count:0carat:4.2298995","count:0carat:4.2540704","count:0carat:4.2782412","count:0carat:4.3024121","count:0carat:4.3265829","count:0carat:4.3507538","count:0carat:4.3749246","count:0carat:4.3990955","count:0carat:4.4232663","count:0carat:4.4474372","count:0carat:4.4716080","count:1carat:4.4957789","count:0carat:4.5199497","count:0carat:4.5441206","count:0carat:4.5682915","count:0carat:4.5924623","count:0carat:4.6166332","count:0carat:4.6408040","count:0carat:4.6649749","count:0carat:4.6891457","count:0carat:4.7133166","count:0carat:4.7374874","count:0carat:4.7616583","count:0carat:4.7858291","count:0carat:4.8100000","count:0carat:4.8341709","count:0carat:4.8583417","count:0carat:4.8825126","count:0carat:4.9066834","count:0carat:4.9308543","count:0carat:4.9550251","count:0carat:4.9791960","count:1carat:5.0033668"],"widthsrc":"nadhil2:77:214739","width":[0.0241708542713568,0.0241708542713568,0.0241708542713567,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713566,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713568,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713566,0.0241708542713572,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713566,0.0241708542713575,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713566,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575,0.0241708542713575],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[-0.0604271356783919,5.2571608040201],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"carat"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","1","2","3","4","5"],"tickvals":[0,1,2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","1","2","3","4","5"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-204.45,4293.45],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","1000","2000","3000","4000"],"tickvals":[0,1000,2000,3000,4000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","1000","2000","3000","4000"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":48.9497716894977,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_23
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example3_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example3_montage.png"
%}

# Flip plot orientation

<pre class="mcode">
p <-    
 ggplot(diamonds, aes(y = carat)) +
  geom_histogram()
  
plotly::ggplotly(p)
</pre>


{% capture plot_24 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil2:79:f08801","x":[286.5,7600,4082.5,3048,2069,3732.5,2218,729,1444,552,110.5,654.5,244,105.5,57,13,4,13,1,1,1,1,0,1.5,0.5,0,0.5,0,0,0.5],"ysrc":"nadhil2:79:7432f9","y":[0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517,0.165862068965517],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil2:79:e0a2e1","base":[0.0829310344827586,0.248793103448276,0.414655172413793,0.58051724137931,0.746379310344828,0.912241379310345,1.07810344827586,1.24396551724138,1.4098275862069,1.57568965517241,1.74155172413793,1.90741379310345,2.07327586206897,2.23913793103448,2.405,2.57086206896552,2.73672413793103,2.90258620689655,3.06844827586207,3.23431034482759,3.4001724137931,3.56603448275862,3.73189655172414,3.89775862068965,4.06362068965517,4.22948275862069,4.39534482758621,4.56120689655172,4.72706896551724,4.89293103448276],"textsrc":"nadhil2:79:db21e1","text":["count:573carat:0.1658621","count:15200carat:0.1658621","count:8165carat:0.1658621","count:6096carat:0.1658621","count:4138carat:0.1658621","count:7465carat:0.1658621","count:4436carat:0.1658621","count:1458carat:0.1658621","count:2888carat:0.1658621","count:1104carat:0.1658621","count:221carat:0.1658621","count:1309carat:0.1658621","count:488carat:0.1658621","count:211carat:0.1658621","count:114carat:0.1658621","count:26carat:0.1658621","count:8carat:0.1658621","count:26carat:0.1658621","count:2carat:0.1658621","count:2carat:0.1658621","count:2carat:0.1658621","count:2carat:0.1658621","count:0carat:0.1658621","count:3carat:0.1658621","count:1carat:0.1658621","count:0carat:0.1658621","count:1carat:0.1658621","count:0carat:0.1658621","count:0carat:0.1658621","count:1carat:0.1658621"],"widthsrc":"nadhil2:79:530cc3","width":[573,15200,8165,6096,4138,7465,4436,1458,2888,1104,221,1309,488,211,114,26,8,26,2,2,2,2,0,3,1,0,1,0,0,1],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[-760,15960],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","5000","10000","15000"],"tickvals":[0,5000,10000,15000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","5000","10000","15000"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-0.165862068965517,5.30758620689655],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"carat"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","1","2","3","4","5"],"tickvals":[0,1,2,3,4,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","1","2","3","4","5"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":31.4155251141553,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_24
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example4_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example4_montage.png"
%}

# Adding space between bins

<pre class="mcode">
p <-    
 ggplot(diamonds, aes(carat)) +
  geom_bar() +
  scale_x_binned()
  
plotly::ggplotly(p)
</pre>



{% capture plot_25 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil2:81:14652a","x":[0.25,0.75,1.25,1.75,2.25,2.75,3.25,3.75,4.25,5.25],"ysrc":"nadhil2:81:c18e6d","y":[18932,17506,12060,3553,1763,94,23,4,4,1],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil2:81:591a61","base":[0,0,0,0,0,0,0,0,0,0],"textsrc":"nadhil2:81:e1a5da","text":["count:18932carat:0.25","count:17506carat:0.75","count:12060carat:1.25","count:3553carat:1.75","count:1763carat:2.25","count:94carat:2.75","count:23carat:3.25","count:4carat:3.75","count:4carat:4.25","count:1carat:5.25"],"widthsrc":"nadhil2:81:375e8c","width":[0.45,0.45,0.45,0.45,0.45,0.45,0.45,0.45,0.449999999999999,0.449999999999999],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[-0.275,5.775],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"carat"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0.5","1.0","1.5","2.0","2.5","3.0","3.5","4.0","4.5","5.0"],"tickvals":[0.5,1,1.5,2,2.5,3,3.5,4,4.5,5],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0.5","1.0","1.5","2.0","2.5","3.0","3.5","4.0","4.5","5.0"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-946.6,19878.6],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","5000","10000","15000"],"tickvals":[0,5000,10000,15000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","5000","10000","15000"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":54.7945205479452,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_25
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example5_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example5_montage.png"
%}


# Stacking histograms

<pre class="mcode">
p <-    
 ggplot(diamonds, aes(price, fill = cut)) +
  geom_histogram(binwidth = 500)
  
plotly::ggplotly(p)
</pre>


{% capture plot_26 %}
  {% raw %}
    {"data":[{"name":"Fair","type":"bar","xsrc":"nadhil2:83:d04117","x":[500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000],"ysrc":"nadhil2:83:945c40","y":[48,162,99,161,159,167,113,122,104,77,49,38,39,32,27,21,17,14,10,11,12,19,8,5,12,10,14,9,6,6,10,7,4,3,4,6,5,0],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(68,1,84,1)","autocolorscale":false},"basesrc":"nadhil2:83:2541e4","base":[8380,9534,3807,3591,3021,2312,1963,2124,2318,1931,1473,1255,1133,912,834,655,617,615,540,480,454,462,380,344,339,329,275,273,266,232,211,254,215,230,174,201,173,23],"textsrc":"nadhil2:83:498dad","text":["count:48price:500cut:Fair","count:162price:1000cut:Fair","count:99price:1500cut:Fair","count:161price:2000cut:Fair","count:159price:2500cut:Fair","count:167price:3000cut:Fair","count:113price:3500cut:Fair","count:122price:4000cut:Fair","count:104price:4500cut:Fair","count:77price:5000cut:Fair","count:49price:5500cut:Fair","count:38price:6000cut:Fair","count:39price:6500cut:Fair","count:32price:7000cut:Fair","count:27price:7500cut:Fair","count:21price:8000cut:Fair","count:17price:8500cut:Fair","count:14price:9000cut:Fair","count:10price:9500cut:Fair","count:11price:10000cut:Fair","count:12price:10500cut:Fair","count:19price:11000cut:Fair","count:8price:11500cut:Fair","count:5price:12000cut:Fair","count:12price:12500cut:Fair","count:10price:13000cut:Fair","count:14price:13500cut:Fair","count:9price:14000cut:Fair","count:6price:14500cut:Fair","count:6price:15000cut:Fair","count:10price:15500cut:Fair","count:7price:16000cut:Fair","count:4price:16500cut:Fair","count:3price:17000cut:Fair","count:4price:17500cut:Fair","count:6price:18000cut:Fair","count:5price:18500cut:Fair","count:0price:19000cut:Fair"],"widthsrc":"nadhil2:83:384bb8","width":[500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500],"hoverinfo":"text","showlegend":true,"legendgroup":"Fair","orientation":"v"},{"name":"Good","type":"bar","xsrc":"nadhil2:83:59ba39","x":[500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000],"ysrc":"nadhil2:83:944a6e","y":[836,502,341,335,310,232,299,368,333,198,143,142,101,96,73,61,52,53,36,36,26,28,30,22,22,27,24,23,17,21,16,25,21,8,16,16,16,1],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(59,82,139,1)","autocolorscale":false},"basesrc":"nadhil2:83:32c880","base":[7544,9032,3466,3256,2711,2080,1664,1756,1985,1733,1330,1113,1032,816,761,594,565,562,504,444,428,434,350,322,317,302,251,250,249,211,195,229,194,222,158,185,157,22],"textsrc":"nadhil2:83:30fe4b","text":["count:836price:500cut:Good","count:502price:1000cut:Good","count:341price:1500cut:Good","count:335price:2000cut:Good","count:310price:2500cut:Good","count:232price:3000cut:Good","count:299price:3500cut:Good","count:368price:4000cut:Good","count:333price:4500cut:Good","count:198price:5000cut:Good","count:143price:5500cut:Good","count:142price:6000cut:Good","count:101price:6500cut:Good","count:96price:7000cut:Good","count:73price:7500cut:Good","count:61price:8000cut:Good","count:52price:8500cut:Good","count:53price:9000cut:Good","count:36price:9500cut:Good","count:36price:10000cut:Good","count:26price:10500cut:Good","count:28price:11000cut:Good","count:30price:11500cut:Good","count:22price:12000cut:Good","count:22price:12500cut:Good","count:27price:13000cut:Good","count:24price:13500cut:Good","count:23price:14000cut:Good","count:17price:14500cut:Good","count:21price:15000cut:Good","count:16price:15500cut:Good","count:25price:16000cut:Good","count:21price:16500cut:Good","count:8price:17000cut:Good","count:16price:17500cut:Good","count:16price:18000cut:Good","count:16price:18500cut:Good","count:1price:19000cut:Good"],"widthsrc":"nadhil2:83:8ce8e3","width":[500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500],"hoverinfo":"text","showlegend":true,"legendgroup":"Good","orientation":"v"},{"name":"VeryGood","type":"bar","xsrc":"nadhil2:83:6d6ebd","x":[500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000],"ysrc":"nadhil2:83:b6f7ab","y":[2352,1411,836,780,791,595,483,573,661,494,360,309,265,240,209,144,132,139,120,124,106,81,91,83,75,74,57,53,55,53,45,66,47,47,36,56,34,5],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(33,144,140,1)","autocolorscale":false},"basesrc":"nadhil2:83:a1b040","base":[5192,7621,2630,2476,1920,1485,1181,1183,1324,1239,970,804,767,576,552,450,433,423,384,320,322,353,259,239,242,228,194,197,194,158,150,163,147,175,122,129,123,17],"textsrc":"nadhil2:83:7306ec","text":["count:2352price:500cut:VeryGood","count:1411price:1000cut:VeryGood","count:836price:1500cut:VeryGood","count:780price:2000cut:VeryGood","count:791price:2500cut:VeryGood","count:595price:3000cut:VeryGood","count:483price:3500cut:VeryGood","count:573price:4000cut:VeryGood","count:661price:4500cut:VeryGood","count:494price:5000cut:VeryGood","count:360price:5500cut:VeryGood","count:309price:6000cut:VeryGood","count:265price:6500cut:VeryGood","count:240price:7000cut:VeryGood","count:209price:7500cut:VeryGood","count:144price:8000cut:VeryGood","count:132price:8500cut:VeryGood","count:139price:9000cut:VeryGood","count:120price:9500cut:VeryGood","count:124price:10000cut:VeryGood","count:106price:10500cut:VeryGood","count:81price:11000cut:VeryGood","count:91price:11500cut:VeryGood","count:83price:12000cut:VeryGood","count:75price:12500cut:VeryGood","count:74price:13000cut:VeryGood","count:57price:13500cut:VeryGood","count:53price:14000cut:VeryGood","count:55price:14500cut:VeryGood","count:53price:15000cut:VeryGood","count:45price:15500cut:VeryGood","count:66price:16000cut:VeryGood","count:47price:16500cut:VeryGood","count:47price:17000cut:VeryGood","count:36price:17500cut:VeryGood","count:56price:18000cut:VeryGood","count:34price:18500cut:VeryGood","count:5price:19000cut:VeryGood"],"widthsrc":"nadhil2:83:185fef","width":[500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500],"hoverinfo":"text","showlegend":true,"legendgroup":"VeryGood","orientation":"v"},{"name":"Premium","type":"bar","xsrc":"nadhil2:83:c3128f","x":[500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000],"ysrc":"nadhil2:83:c437b8","y":[1693,2453,798,742,716,544,465,631,727,612,497,427,361,245,265,203,191,184,161,149,140,162,130,113,114,122,109,108,101,91,75,92,68,102,66,65,62,7],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(93,200,99,1)","autocolorscale":false},"basesrc":"nadhil2:83:970330","base":[3499,5168,1832,1734,1204,941,716,552,597,627,473,377,406,331,287,247,242,239,223,171,182,191,129,126,128,106,85,89,93,67,75,71,79,73,56,64,61,10],"textsrc":"nadhil2:83:45a49c","text":["count:1693price:500cut:Premium","count:2453price:1000cut:Premium","count:798price:1500cut:Premium","count:742price:2000cut:Premium","count:716price:2500cut:Premium","count:544price:3000cut:Premium","count:465price:3500cut:Premium","count:631price:4000cut:Premium","count:727price:4500cut:Premium","count:612price:5000cut:Premium","count:497price:5500cut:Premium","count:427price:6000cut:Premium","count:361price:6500cut:Premium","count:245price:7000cut:Premium","count:265price:7500cut:Premium","count:203price:8000cut:Premium","count:191price:8500cut:Premium","count:184price:9000cut:Premium","count:161price:9500cut:Premium","count:149price:10000cut:Premium","count:140price:10500cut:Premium","count:162price:11000cut:Premium","count:130price:11500cut:Premium","count:113price:12000cut:Premium","count:114price:12500cut:Premium","count:122price:13000cut:Premium","count:109price:13500cut:Premium","count:108price:14000cut:Premium","count:101price:14500cut:Premium","count:91price:15000cut:Premium","count:75price:15500cut:Premium","count:92price:16000cut:Premium","count:68price:16500cut:Premium","count:102price:17000cut:Premium","count:66price:17500cut:Premium","count:65price:18000cut:Premium","count:62price:18500cut:Premium","count:7price:19000cut:Premium"],"widthsrc":"nadhil2:83:62e813","width":[500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500],"hoverinfo":"text","showlegend":true,"legendgroup":"Premium","orientation":"v"},{"name":"Ideal","type":"bar","xsrc":"nadhil2:83:6daf27","x":[500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000],"ysrc":"nadhil2:83:cbeb89","y":[3499,5168,1832,1734,1204,941,716,552,597,627,473,377,406,331,287,247,242,239,223,171,182,191,129,126,128,106,85,89,93,67,75,71,79,73,56,64,61,10],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(253,231,37,1)","autocolorscale":false},"basesrc":"nadhil2:83:2bc62e","base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"textsrc":"nadhil2:83:c749f5","text":["count:3499price:500cut:Ideal","count:5168price:1000cut:Ideal","count:1832price:1500cut:Ideal","count:1734price:2000cut:Ideal","count:1204price:2500cut:Ideal","count:941price:3000cut:Ideal","count:716price:3500cut:Ideal","count:552price:4000cut:Ideal","count:597price:4500cut:Ideal","count:627price:5000cut:Ideal","count:473price:5500cut:Ideal","count:377price:6000cut:Ideal","count:406price:6500cut:Ideal","count:331price:7000cut:Ideal","count:287price:7500cut:Ideal","count:247price:8000cut:Ideal","count:242price:8500cut:Ideal","count:239price:9000cut:Ideal","count:223price:9500cut:Ideal","count:171price:10000cut:Ideal","count:182price:10500cut:Ideal","count:191price:11000cut:Ideal","count:129price:11500cut:Ideal","count:126price:12000cut:Ideal","count:128price:12500cut:Ideal","count:106price:13000cut:Ideal","count:85price:13500cut:Ideal","count:89price:14000cut:Ideal","count:93price:14500cut:Ideal","count:67price:15000cut:Ideal","count:75price:15500cut:Ideal","count:71price:16000cut:Ideal","count:79price:16500cut:Ideal","count:73price:17000cut:Ideal","count:56price:17500cut:Ideal","count:64price:18000cut:Ideal","count:61price:18500cut:Ideal","count:10price:19000cut:Ideal"],"widthsrc":"nadhil2:83:590f96","width":[500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500,500],"hoverinfo":"text","showlegend":true,"legendgroup":"Ideal","orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[-700,20200],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"price"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","5000","10000","15000","20000"],"tickvals":[0,5000,10000,15000,20000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","5000","10000","15000","20000"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-484.8,10180.8],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","2500","5000","7500","10000"],"tickvals":[0,2500,5000,7500,10000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","2500","5000","7500","10000"],"categoryorder":"array","showticklabels":true},"legend":{"y":0.93503937007874,"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":54.7945205479452,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":true,"annotations":[{"x":1.02,"y":1,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"cut","xref":"paper","yref":"paper","xanchor":"left","yanchor":"bottom","showarrow":false,"textangle":0,"legendTitle":true}],"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_26
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example6_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example6_montage.png"
%}

# Frequency plot

Instead of stacking histograms, you can use a frequency plot.

<pre class="mcode">
p <-    
 ggplot(diamonds, aes(price, colour = cut)) +
  geom_freqpoly(binwidth = 500)
  
plotly::ggplotly(p)
</pre>


{% capture plot_27 %}
  {% raw %}
    {"data":[{"line":{"dash":"solid","color":"rgba(68,1,84,1)","width":1.88976377952756},"mode":"lines","name":"Fair","type":"scatter","xsrc":"nadhil2:85:a4e3cf","x":[0,500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000,19500],"ysrc":"nadhil2:85:1979ec","y":[0,48,162,99,161,159,167,113,122,104,77,49,38,39,32,27,21,17,14,10,11,12,19,8,5,12,10,14,9,6,6,10,7,4,3,4,6,5,0,0],"frame":null,"xaxis":"x","yaxis":"y","hoveron":"points","textsrc":"nadhil2:85:77011e","text":["count:0price:0cut:Fair","count:48price:500cut:Fair","count:162price:1000cut:Fair","count:99price:1500cut:Fair","count:161price:2000cut:Fair","count:159price:2500cut:Fair","count:167price:3000cut:Fair","count:113price:3500cut:Fair","count:122price:4000cut:Fair","count:104price:4500cut:Fair","count:77price:5000cut:Fair","count:49price:5500cut:Fair","count:38price:6000cut:Fair","count:39price:6500cut:Fair","count:32price:7000cut:Fair","count:27price:7500cut:Fair","count:21price:8000cut:Fair","count:17price:8500cut:Fair","count:14price:9000cut:Fair","count:10price:9500cut:Fair","count:11price:10000cut:Fair","count:12price:10500cut:Fair","count:19price:11000cut:Fair","count:8price:11500cut:Fair","count:5price:12000cut:Fair","count:12price:12500cut:Fair","count:10price:13000cut:Fair","count:14price:13500cut:Fair","count:9price:14000cut:Fair","count:6price:14500cut:Fair","count:6price:15000cut:Fair","count:10price:15500cut:Fair","count:7price:16000cut:Fair","count:4price:16500cut:Fair","count:3price:17000cut:Fair","count:4price:17500cut:Fair","count:6price:18000cut:Fair","count:5price:18500cut:Fair","count:0price:19000cut:Fair","count:0price:19500cut:Fair"],"hoverinfo":"text","showlegend":true,"legendgroup":"Fair"},{"line":{"dash":"solid","color":"rgba(59,82,139,1)","width":1.88976377952756},"mode":"lines","name":"Good","type":"scatter","xsrc":"nadhil2:85:8396ca","x":[0,500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000,19500],"ysrc":"nadhil2:85:7cef64","y":[0,836,502,341,335,310,232,299,368,333,198,143,142,101,96,73,61,52,53,36,36,26,28,30,22,22,27,24,23,17,21,16,25,21,8,16,16,16,1,0],"frame":null,"xaxis":"x","yaxis":"y","hoveron":"points","textsrc":"nadhil2:85:f253cd","text":["count:0price:0cut:Good","count:836price:500cut:Good","count:502price:1000cut:Good","count:341price:1500cut:Good","count:335price:2000cut:Good","count:310price:2500cut:Good","count:232price:3000cut:Good","count:299price:3500cut:Good","count:368price:4000cut:Good","count:333price:4500cut:Good","count:198price:5000cut:Good","count:143price:5500cut:Good","count:142price:6000cut:Good","count:101price:6500cut:Good","count:96price:7000cut:Good","count:73price:7500cut:Good","count:61price:8000cut:Good","count:52price:8500cut:Good","count:53price:9000cut:Good","count:36price:9500cut:Good","count:36price:10000cut:Good","count:26price:10500cut:Good","count:28price:11000cut:Good","count:30price:11500cut:Good","count:22price:12000cut:Good","count:22price:12500cut:Good","count:27price:13000cut:Good","count:24price:13500cut:Good","count:23price:14000cut:Good","count:17price:14500cut:Good","count:21price:15000cut:Good","count:16price:15500cut:Good","count:25price:16000cut:Good","count:21price:16500cut:Good","count:8price:17000cut:Good","count:16price:17500cut:Good","count:16price:18000cut:Good","count:16price:18500cut:Good","count:1price:19000cut:Good","count:0price:19500cut:Good"],"hoverinfo":"text","showlegend":true,"legendgroup":"Good"},{"line":{"dash":"solid","color":"rgba(33,144,140,1)","width":1.88976377952756},"mode":"lines","name":"VeryGood","type":"scatter","xsrc":"nadhil2:85:873848","x":[0,500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000,19500],"ysrc":"nadhil2:85:d9b88c","y":[0,2352,1411,836,780,791,595,483,573,661,494,360,309,265,240,209,144,132,139,120,124,106,81,91,83,75,74,57,53,55,53,45,66,47,47,36,56,34,5,0],"frame":null,"xaxis":"x","yaxis":"y","hoveron":"points","textsrc":"nadhil2:85:6d7c7d","text":["count:0price:0cut:VeryGood","count:2352price:500cut:VeryGood","count:1411price:1000cut:VeryGood","count:836price:1500cut:VeryGood","count:780price:2000cut:VeryGood","count:791price:2500cut:VeryGood","count:595price:3000cut:VeryGood","count:483price:3500cut:VeryGood","count:573price:4000cut:VeryGood","count:661price:4500cut:VeryGood","count:494price:5000cut:VeryGood","count:360price:5500cut:VeryGood","count:309price:6000cut:VeryGood","count:265price:6500cut:VeryGood","count:240price:7000cut:VeryGood","count:209price:7500cut:VeryGood","count:144price:8000cut:VeryGood","count:132price:8500cut:VeryGood","count:139price:9000cut:VeryGood","count:120price:9500cut:VeryGood","count:124price:10000cut:VeryGood","count:106price:10500cut:VeryGood","count:81price:11000cut:VeryGood","count:91price:11500cut:VeryGood","count:83price:12000cut:VeryGood","count:75price:12500cut:VeryGood","count:74price:13000cut:VeryGood","count:57price:13500cut:VeryGood","count:53price:14000cut:VeryGood","count:55price:14500cut:VeryGood","count:53price:15000cut:VeryGood","count:45price:15500cut:VeryGood","count:66price:16000cut:VeryGood","count:47price:16500cut:VeryGood","count:47price:17000cut:VeryGood","count:36price:17500cut:VeryGood","count:56price:18000cut:VeryGood","count:34price:18500cut:VeryGood","count:5price:19000cut:VeryGood","count:0price:19500cut:VeryGood"],"hoverinfo":"text","showlegend":true,"legendgroup":"VeryGood"},{"line":{"dash":"solid","color":"rgba(93,200,99,1)","width":1.88976377952756},"mode":"lines","name":"Premium","type":"scatter","xsrc":"nadhil2:85:bde44d","x":[0,500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000,19500],"ysrc":"nadhil2:85:81d350","y":[0,1693,2453,798,742,716,544,465,631,727,612,497,427,361,245,265,203,191,184,161,149,140,162,130,113,114,122,109,108,101,91,75,92,68,102,66,65,62,7,0],"frame":null,"xaxis":"x","yaxis":"y","hoveron":"points","textsrc":"nadhil2:85:e1c5a4","text":["count:0price:0cut:Premium","count:1693price:500cut:Premium","count:2453price:1000cut:Premium","count:798price:1500cut:Premium","count:742price:2000cut:Premium","count:716price:2500cut:Premium","count:544price:3000cut:Premium","count:465price:3500cut:Premium","count:631price:4000cut:Premium","count:727price:4500cut:Premium","count:612price:5000cut:Premium","count:497price:5500cut:Premium","count:427price:6000cut:Premium","count:361price:6500cut:Premium","count:245price:7000cut:Premium","count:265price:7500cut:Premium","count:203price:8000cut:Premium","count:191price:8500cut:Premium","count:184price:9000cut:Premium","count:161price:9500cut:Premium","count:149price:10000cut:Premium","count:140price:10500cut:Premium","count:162price:11000cut:Premium","count:130price:11500cut:Premium","count:113price:12000cut:Premium","count:114price:12500cut:Premium","count:122price:13000cut:Premium","count:109price:13500cut:Premium","count:108price:14000cut:Premium","count:101price:14500cut:Premium","count:91price:15000cut:Premium","count:75price:15500cut:Premium","count:92price:16000cut:Premium","count:68price:16500cut:Premium","count:102price:17000cut:Premium","count:66price:17500cut:Premium","count:65price:18000cut:Premium","count:62price:18500cut:Premium","count:7price:19000cut:Premium","count:0price:19500cut:Premium"],"hoverinfo":"text","showlegend":true,"legendgroup":"Premium"},{"line":{"dash":"solid","color":"rgba(253,231,37,1)","width":1.88976377952756},"mode":"lines","name":"Ideal","type":"scatter","xsrc":"nadhil2:85:55e559","x":[0,500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000,19500],"ysrc":"nadhil2:85:dbd3d5","y":[0,3499,5168,1832,1734,1204,941,716,552,597,627,473,377,406,331,287,247,242,239,223,171,182,191,129,126,128,106,85,89,93,67,75,71,79,73,56,64,61,10,0],"frame":null,"xaxis":"x","yaxis":"y","hoveron":"points","textsrc":"nadhil2:85:bdfac4","text":["count:0price:0cut:Ideal","count:3499price:500cut:Ideal","count:5168price:1000cut:Ideal","count:1832price:1500cut:Ideal","count:1734price:2000cut:Ideal","count:1204price:2500cut:Ideal","count:941price:3000cut:Ideal","count:716price:3500cut:Ideal","count:552price:4000cut:Ideal","count:597price:4500cut:Ideal","count:627price:5000cut:Ideal","count:473price:5500cut:Ideal","count:377price:6000cut:Ideal","count:406price:6500cut:Ideal","count:331price:7000cut:Ideal","count:287price:7500cut:Ideal","count:247price:8000cut:Ideal","count:242price:8500cut:Ideal","count:239price:9000cut:Ideal","count:223price:9500cut:Ideal","count:171price:10000cut:Ideal","count:182price:10500cut:Ideal","count:191price:11000cut:Ideal","count:129price:11500cut:Ideal","count:126price:12000cut:Ideal","count:128price:12500cut:Ideal","count:106price:13000cut:Ideal","count:85price:13500cut:Ideal","count:89price:14000cut:Ideal","count:93price:14500cut:Ideal","count:67price:15000cut:Ideal","count:75price:15500cut:Ideal","count:71price:16000cut:Ideal","count:79price:16500cut:Ideal","count:73price:17000cut:Ideal","count:56price:17500cut:Ideal","count:64price:18000cut:Ideal","count:61price:18500cut:Ideal","count:10price:19000cut:Ideal","count:0price:19500cut:Ideal"],"hoverinfo":"text","showlegend":true,"legendgroup":"Ideal"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[-1250,20750],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"price"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","5000","10000","15000","20000"],"tickvals":[0,5000,10000,15000,20000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","5000","10000","15000","20000"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-258.4,5426.4],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","1000","2000","3000","4000","5000"],"tickvals":[0,1000,2000,3000,4000,5000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","1000","2000","3000","4000","5000"],"categoryorder":"array","showticklabels":true},"legend":{"y":0.93503937007874,"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":48.9497716894977,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":true,"annotations":[{"x":1.02,"y":1,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"cut","xref":"paper","yref":"paper","xanchor":"left","yanchor":"bottom","showarrow":false,"textangle":0,"legendTitle":true}],"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_27
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example7_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example7_montage.png"
%}


To make it easier to compare distributions with very different counts, put density on the y axis instead of the default count.


<pre class="mcode">
p <-    
 ggplot(diamonds, aes(price, after_stat(density), colour = cut)) +
  geom_freqpoly(binwidth = 500)
  
plotly::ggplotly(p)
</pre>


{% capture plot_28 %}
  {% raw %}
    {"data":[{"line":{"dash":"solid","color":"rgba(68,1,84,1)","width":1.88976377952756},"mode":"lines","name":"Fair","type":"scatter","xsrc":"nadhil2:87:adfaaa","x":[0,500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000,19500],"ysrc":"nadhil2:87:fdbba2","y":[0,5.96273291925466e-05,0.000201242236024845,0.000122981366459627,0.0002,0.000197515527950311,0.000207453416149068,0.000140372670807453,0.000151552795031056,0.000129192546583851,9.56521739130435e-05,6.08695652173913e-05,4.72049689440994e-05,4.84472049689441e-05,3.97515527950311e-05,3.35403726708075e-05,2.60869565217391e-05,2.11180124223602e-05,1.73913043478261e-05,1.24223602484472e-05,1.36645962732919e-05,1.49068322981366e-05,2.36024844720497e-05,9.93788819875776e-06,6.2111801242236e-06,1.49068322981366e-05,1.24223602484472e-05,1.73913043478261e-05,1.11801242236025e-05,7.45341614906832e-06,7.45341614906832e-06,1.24223602484472e-05,8.69565217391304e-06,4.96894409937888e-06,3.72670807453416e-06,4.96894409937888e-06,7.45341614906832e-06,6.2111801242236e-06,0,0],"frame":null,"xaxis":"x","yaxis":"y","hoveron":"points","textsrc":"nadhil2:87:dcae90","text":["price:0density:0.000000e+00cut:Fair","price:500density:5.962733e-05cut:Fair","price:1000density:2.012422e-04cut:Fair","price:1500density:1.229814e-04cut:Fair","price:2000density:2.000000e-04cut:Fair","price:2500density:1.975155e-04cut:Fair","price:3000density:2.074534e-04cut:Fair","price:3500density:1.403727e-04cut:Fair","price:4000density:1.515528e-04cut:Fair","price:4500density:1.291925e-04cut:Fair","price:5000density:9.565217e-05cut:Fair","price:5500density:6.086957e-05cut:Fair","price:6000density:4.720497e-05cut:Fair","price:6500density:4.844720e-05cut:Fair","price:7000density:3.975155e-05cut:Fair","price:7500density:3.354037e-05cut:Fair","price:8000density:2.608696e-05cut:Fair","price:8500density:2.111801e-05cut:Fair","price:9000density:1.739130e-05cut:Fair","price:9500density:1.242236e-05cut:Fair","price:10000density:1.366460e-05cut:Fair","price:10500density:1.490683e-05cut:Fair","price:11000density:2.360248e-05cut:Fair","price:11500density:9.937888e-06cut:Fair","price:12000density:6.211180e-06cut:Fair","price:12500density:1.490683e-05cut:Fair","price:13000density:1.242236e-05cut:Fair","price:13500density:1.739130e-05cut:Fair","price:14000density:1.118012e-05cut:Fair","price:14500density:7.453416e-06cut:Fair","price:15000density:7.453416e-06cut:Fair","price:15500density:1.242236e-05cut:Fair","price:16000density:8.695652e-06cut:Fair","price:16500density:4.968944e-06cut:Fair","price:17000density:3.726708e-06cut:Fair","price:17500density:4.968944e-06cut:Fair","price:18000density:7.453416e-06cut:Fair","price:18500density:6.211180e-06cut:Fair","price:19000density:0.000000e+00cut:Fair","price:19500density:0.000000e+00cut:Fair"],"hoverinfo":"text","showlegend":true,"legendgroup":"Fair"},{"line":{"dash":"solid","color":"rgba(59,82,139,1)","width":1.88976377952756},"mode":"lines","name":"Good","type":"scatter","xsrc":"nadhil2:87:0f7a69","x":[0,500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000,19500],"ysrc":"nadhil2:87:f12a67","y":[0,0.000340807174887892,0.000204647370566653,0.000139013452914798,0.000136567468406033,0.00012637586628618,9.45780676722381e-05,0.000121891561353445,0.00015002038320424,0.000135752140236445,8.07174887892377e-05,5.82959641255605e-05,5.78883000407664e-05,4.11740725642071e-05,3.91357521402364e-05,2.97594781899715e-05,2.48675091724419e-05,2.11985324092947e-05,2.16061964940889e-05,1.46759070525887e-05,1.46759070525887e-05,1.05992662046474e-05,1.14145943742356e-05,1.22299225438239e-05,8.96860986547085e-06,8.96860986547085e-06,1.10069302894415e-05,9.78393803505911e-06,9.37627395026498e-06,6.9302894415002e-06,8.56094578067672e-06,6.52262535670607e-06,1.01916021198532e-05,8.56094578067672e-06,3.26131267835304e-06,6.52262535670607e-06,6.52262535670607e-06,6.52262535670607e-06,4.0766408479413e-07,0],"frame":null,"xaxis":"x","yaxis":"y","hoveron":"points","textsrc":"nadhil2:87:c70c10","text":["price:0density:0.000000e+00cut:Good","price:500density:3.408072e-04cut:Good","price:1000density:2.046474e-04cut:Good","price:1500density:1.390135e-04cut:Good","price:2000density:1.365675e-04cut:Good","price:2500density:1.263759e-04cut:Good","price:3000density:9.457807e-05cut:Good","price:3500density:1.218916e-04cut:Good","price:4000density:1.500204e-04cut:Good","price:4500density:1.357521e-04cut:Good","price:5000density:8.071749e-05cut:Good","price:5500density:5.829596e-05cut:Good","price:6000density:5.788830e-05cut:Good","price:6500density:4.117407e-05cut:Good","price:7000density:3.913575e-05cut:Good","price:7500density:2.975948e-05cut:Good","price:8000density:2.486751e-05cut:Good","price:8500density:2.119853e-05cut:Good","price:9000density:2.160620e-05cut:Good","price:9500density:1.467591e-05cut:Good","price:10000density:1.467591e-05cut:Good","price:10500density:1.059927e-05cut:Good","price:11000density:1.141459e-05cut:Good","price:11500density:1.222992e-05cut:Good","price:12000density:8.968610e-06cut:Good","price:12500density:8.968610e-06cut:Good","price:13000density:1.100693e-05cut:Good","price:13500density:9.783938e-06cut:Good","price:14000density:9.376274e-06cut:Good","price:14500density:6.930289e-06cut:Good","price:15000density:8.560946e-06cut:Good","price:15500density:6.522625e-06cut:Good","price:16000density:1.019160e-05cut:Good","price:16500density:8.560946e-06cut:Good","price:17000density:3.261313e-06cut:Good","price:17500density:6.522625e-06cut:Good","price:18000density:6.522625e-06cut:Good","price:18500density:6.522625e-06cut:Good","price:19000density:4.076641e-07cut:Good","price:19500density:0.000000e+00cut:Good"],"hoverinfo":"text","showlegend":true,"legendgroup":"Good"},{"line":{"dash":"solid","color":"rgba(33,144,140,1)","width":1.88976377952756},"mode":"lines","name":"VeryGood","type":"scatter","xsrc":"nadhil2:87:e76328","x":[0,500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000,19500],"ysrc":"nadhil2:87:132cab","y":[0,0.000389339513325608,0.000233570600893892,0.000138387684158252,0.000129117695745737,0.000130938586326767,9.84936268829664e-05,7.99536500579374e-05,9.48518457209071e-05,0.000109418970369144,8.17745406389671e-05,5.95927826518788e-05,5.1150471776196e-05,4.38669094520775e-05,3.97285217679192e-05,3.4596921039563e-05,2.38371130607515e-05,2.18506869723556e-05,2.30094355239199e-05,1.98642608839596e-05,2.05264029134249e-05,1.7546763780831e-05,1.34083760966727e-05,1.5063731170336e-05,1.37394471114054e-05,1.24151630524748e-05,1.22496275451084e-05,9.43552391988081e-06,8.77338189041549e-06,9.10445290514815e-06,8.77338189041549e-06,7.44909783148485e-06,1.09253434861778e-05,7.78016884621751e-06,7.78016884621751e-06,5.95927826518788e-06,9.26998841251448e-06,5.62820725045522e-06,8.2767753683165e-07,0],"frame":null,"xaxis":"x","yaxis":"y","hoveron":"points","textsrc":"nadhil2:87:1206dc","text":["price:0density:0.000000e+00cut:VeryGood","price:500density:3.893395e-04cut:VeryGood","price:1000density:2.335706e-04cut:VeryGood","price:1500density:1.383877e-04cut:VeryGood","price:2000density:1.291177e-04cut:VeryGood","price:2500density:1.309386e-04cut:VeryGood","price:3000density:9.849363e-05cut:VeryGood","price:3500density:7.995365e-05cut:VeryGood","price:4000density:9.485185e-05cut:VeryGood","price:4500density:1.094190e-04cut:VeryGood","price:5000density:8.177454e-05cut:VeryGood","price:5500density:5.959278e-05cut:VeryGood","price:6000density:5.115047e-05cut:VeryGood","price:6500density:4.386691e-05cut:VeryGood","price:7000density:3.972852e-05cut:VeryGood","price:7500density:3.459692e-05cut:VeryGood","price:8000density:2.383711e-05cut:VeryGood","price:8500density:2.185069e-05cut:VeryGood","price:9000density:2.300944e-05cut:VeryGood","price:9500density:1.986426e-05cut:VeryGood","price:10000density:2.052640e-05cut:VeryGood","price:10500density:1.754676e-05cut:VeryGood","price:11000density:1.340838e-05cut:VeryGood","price:11500density:1.506373e-05cut:VeryGood","price:12000density:1.373945e-05cut:VeryGood","price:12500density:1.241516e-05cut:VeryGood","price:13000density:1.224963e-05cut:VeryGood","price:13500density:9.435524e-06cut:VeryGood","price:14000density:8.773382e-06cut:VeryGood","price:14500density:9.104453e-06cut:VeryGood","price:15000density:8.773382e-06cut:VeryGood","price:15500density:7.449098e-06cut:VeryGood","price:16000density:1.092534e-05cut:VeryGood","price:16500density:7.780169e-06cut:VeryGood","price:17000density:7.780169e-06cut:VeryGood","price:17500density:5.959278e-06cut:VeryGood","price:18000density:9.269988e-06cut:VeryGood","price:18500density:5.628207e-06cut:VeryGood","price:19000density:8.276775e-07cut:VeryGood","price:19500density:0.000000e+00cut:VeryGood"],"hoverinfo":"text","showlegend":true,"legendgroup":"VeryGood"},{"line":{"dash":"solid","color":"rgba(93,200,99,1)","width":1.88976377952756},"mode":"lines","name":"Premium","type":"scatter","xsrc":"nadhil2:87:e7a1fa","x":[0,500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000,19500],"ysrc":"nadhil2:87:dcad1a","y":[0,0.000245522442172431,0.000355739250235661,0.000115727648466391,0.000107606409977522,0.000103835834964832,7.88920310347328e-05,6.74352838807918e-05,9.15089551156551e-05,0.000105431078239432,8.87535349140744e-05,7.20759915887173e-05,6.19244434776303e-05,5.23529838300341e-05,3.55304183888043e-05,3.84308607062577e-05,2.94394895221521e-05,2.76992241316801e-05,2.66840693205714e-05,2.33485606555e-05,2.16082952650279e-05,2.03030962221739e-05,2.34935827713726e-05,1.88528750634472e-05,1.63874990936118e-05,1.65325212094844e-05,1.76926981364658e-05,1.58074106301211e-05,1.56623885142484e-05,1.46472337031397e-05,1.3197012544413e-05,1.08766586904503e-05,1.33420346602857e-05,9.8615038793416e-06,1.47922558190124e-05,9.57145964759626e-06,9.42643753172359e-06,8.99137118410558e-06,1.01515481110869e-06,0],"frame":null,"xaxis":"x","yaxis":"y","hoveron":"points","textsrc":"nadhil2:87:d62f5b","text":["price:0density:0.000000e+00cut:Premium","price:500density:2.455224e-04cut:Premium","price:1000density:3.557393e-04cut:Premium","price:1500density:1.157276e-04cut:Premium","price:2000density:1.076064e-04cut:Premium","price:2500density:1.038358e-04cut:Premium","price:3000density:7.889203e-05cut:Premium","price:3500density:6.743528e-05cut:Premium","price:4000density:9.150896e-05cut:Premium","price:4500density:1.054311e-04cut:Premium","price:5000density:8.875353e-05cut:Premium","price:5500density:7.207599e-05cut:Premium","price:6000density:6.192444e-05cut:Premium","price:6500density:5.235298e-05cut:Premium","price:7000density:3.553042e-05cut:Premium","price:7500density:3.843086e-05cut:Premium","price:8000density:2.943949e-05cut:Premium","price:8500density:2.769922e-05cut:Premium","price:9000density:2.668407e-05cut:Premium","price:9500density:2.334856e-05cut:Premium","price:10000density:2.160830e-05cut:Premium","price:10500density:2.030310e-05cut:Premium","price:11000density:2.349358e-05cut:Premium","price:11500density:1.885288e-05cut:Premium","price:12000density:1.638750e-05cut:Premium","price:12500density:1.653252e-05cut:Premium","price:13000density:1.769270e-05cut:Premium","price:13500density:1.580741e-05cut:Premium","price:14000density:1.566239e-05cut:Premium","price:14500density:1.464723e-05cut:Premium","price:15000density:1.319701e-05cut:Premium","price:15500density:1.087666e-05cut:Premium","price:16000density:1.334203e-05cut:Premium","price:16500density:9.861504e-06cut:Premium","price:17000density:1.479226e-05cut:Premium","price:17500density:9.571460e-06cut:Premium","price:18000density:9.426438e-06cut:Premium","price:18500density:8.991371e-06cut:Premium","price:19000density:1.015155e-06cut:Premium","price:19500density:0.000000e+00cut:Premium"],"hoverinfo":"text","showlegend":true,"legendgroup":"Premium"},{"line":{"dash":"solid","color":"rgba(253,231,37,1)","width":1.88976377952756},"mode":"lines","name":"Ideal","type":"scatter","xsrc":"nadhil2:87:c14cab","x":[0,500,1000,1500,2000,2500,3000,3500,4000,4500,5000,5500,6000,6500,7000,7500,8000,8500,9000,9500,10000,10500,11000,11500,12000,12500,13000,13500,14000,14500,15000,15500,16000,16500,17000,17500,18000,18500,19000,19500],"ysrc":"nadhil2:87:49378e","y":[0,0.000324718110528514,0.000479606514778897,0.000170015312514501,0.000160920606932393,0.000111734954294464,8.73277342118695e-05,6.6447032620296e-05,5.12273212379936e-05,5.54034615563083e-05,5.81875551018514e-05,4.38958749013967e-05,3.49867755556587e-05,3.7678065983017e-05,3.07178321191592e-05,2.66344949190293e-05,2.29223701916384e-05,2.24583546007146e-05,2.21799452461603e-05,2.06950953552039e-05,1.58693332095958e-05,1.68901675096283e-05,1.77253955732913e-05,1.19716022458355e-05,1.16931928912811e-05,1.18787991276507e-05,9.83713052758573e-06,7.88826504570554e-06,8.25947751844462e-06,8.6306899911837e-06,6.21780891837966e-06,6.96023386385783e-06,6.58902139111874e-06,7.33144633659691e-06,6.77462762748828e-06,5.19697461834718e-06,5.93939956382534e-06,5.66099020927103e-06,9.2803118184771e-07,0],"frame":null,"xaxis":"x","yaxis":"y","hoveron":"points","textsrc":"nadhil2:87:88b7ea","text":["price:0density:0.000000e+00cut:Ideal","price:500density:3.247181e-04cut:Ideal","price:1000density:4.796065e-04cut:Ideal","price:1500density:1.700153e-04cut:Ideal","price:2000density:1.609206e-04cut:Ideal","price:2500density:1.117350e-04cut:Ideal","price:3000density:8.732773e-05cut:Ideal","price:3500density:6.644703e-05cut:Ideal","price:4000density:5.122732e-05cut:Ideal","price:4500density:5.540346e-05cut:Ideal","price:5000density:5.818756e-05cut:Ideal","price:5500density:4.389587e-05cut:Ideal","price:6000density:3.498678e-05cut:Ideal","price:6500density:3.767807e-05cut:Ideal","price:7000density:3.071783e-05cut:Ideal","price:7500density:2.663449e-05cut:Ideal","price:8000density:2.292237e-05cut:Ideal","price:8500density:2.245835e-05cut:Ideal","price:9000density:2.217995e-05cut:Ideal","price:9500density:2.069510e-05cut:Ideal","price:10000density:1.586933e-05cut:Ideal","price:10500density:1.689017e-05cut:Ideal","price:11000density:1.772540e-05cut:Ideal","price:11500density:1.197160e-05cut:Ideal","price:12000density:1.169319e-05cut:Ideal","price:12500density:1.187880e-05cut:Ideal","price:13000density:9.837131e-06cut:Ideal","price:13500density:7.888265e-06cut:Ideal","price:14000density:8.259478e-06cut:Ideal","price:14500density:8.630690e-06cut:Ideal","price:15000density:6.217809e-06cut:Ideal","price:15500density:6.960234e-06cut:Ideal","price:16000density:6.589021e-06cut:Ideal","price:16500density:7.331446e-06cut:Ideal","price:17000density:6.774628e-06cut:Ideal","price:17500density:5.196975e-06cut:Ideal","price:18000density:5.939400e-06cut:Ideal","price:18500density:5.660990e-06cut:Ideal","price:19000density:9.280312e-07cut:Ideal","price:19500density:0.000000e+00cut:Ideal"],"hoverinfo":"text","showlegend":true,"legendgroup":"Ideal"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[-1250,20750],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"price"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","5000","10000","15000","20000"],"tickvals":[0,5000,10000,15000,20000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","5000","10000","15000","20000"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-2.39803257389448e-05,0.000503586840517841],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"density"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0e+00","1e-04","2e-04","3e-04","4e-04","5e-04"],"tickvals":[0,0.0001,0.0002,0.0003,0.0004,0.0005],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0e+00","1e-04","2e-04","3e-04","4e-04","5e-04"],"categoryorder":"array","showticklabels":true},"legend":{"y":0.93503937007874,"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":54.7945205479452,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":true,"annotations":[{"x":1.02,"y":1,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"cut","xref":"paper","yref":"paper","xanchor":"left","yanchor":"bottom","showarrow":false,"textangle":0,"legendTitle":true}],"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_28
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example8_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example8_montage.png"
%}


# Using function to calculate binwidth 


You can specify a function for calculating binwidth, which is particularly useful when faceting along variables with different ranges because the function will be called once per facet.


<pre class="mcode">
p <-    
 ggplot(economics_long, aes(value)) +
  facet_wrap(~variable, scales = 'free_x') +
  geom_histogram(binwidth = function(x) 2 * IQR(x) / (length(x)^(1/3)))
  
plotly::ggplotly(p)
</pre>


{% capture plot_30 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil2:91:0ff709","x":[0,1455.48011322666,2910.96022645332,4366.44033967998,5821.92045290664,7277.4005661333,8732.88067935996,10188.3607925866,11643.8409058133],"ysrc":"nadhil2:91:5b6302","y":[53,135,80,74,49,48,34,62,39],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil2:91:a6f72e","base":[0,0,0,0,0,0,0,0,0],"textsrc":"nadhil2:91:afd718","text":["count:53value:0.000000e+00","count:135value:1.455480e+03","count:80value:2.910960e+03","count:74value:4.366440e+03","count:49value:5.821920e+03","count:48value:7.277401e+03","count:34value:8.732881e+03","count:62value:1.018836e+04","count:39value:1.164384e+04"],"widthsrc":"nadhil2:91:0fa457","width":[1455.48011322666,1455.48011322666,1455.48011322666,1455.48011322666,1455.48011322666,1455.48011322666,1455.48011322666,1455.48011322666,1455.48011322666],"hoverinfo":"text","showlegend":false,"orientation":"v"},{"type":"bar","xsrc":"nadhil2:91:796807","x":[204587.42411739,220324.918280266,236062.412443142,251799.906606019,267537.400768895,283274.894931771,299012.389094647,314749.883257523],"ysrc":"nadhil2:91:1fe7bd","y":[75,84,87,64,60,64,68,72],"frame":null,"xaxis":"x2","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil2:91:1f914a","base":[0,0,0,0,0,0,0,0],"textsrc":"nadhil2:91:7fb2c1","text":["count:75value:2.045874e+05","count:84value:2.203249e+05","count:87value:2.360624e+05","count:64value:2.517999e+05","count:60value:2.675374e+05","count:64value:2.832749e+05","count:68value:2.990124e+05","count:72value:3.147499e+05"],"widthsrc":"nadhil2:91:94fb46","width":[15737.4941628762,15737.4941628762,15737.4941628762,15737.4941628762,15737.4941628762,15737.4941628762,15737.4941628762,15737.4941628762],"hoverinfo":"text","showlegend":false,"orientation":"v"},{"type":"bar","xsrc":"nadhil2:91:09c54e","x":[2.26214558708514,3.39321838062771,4.52429117417028,5.65536396771285,6.78643676125542,7.91750955479799,9.04858234834055,10.1796551418831,11.3107279354257,12.4418007289683,13.5728735225108,14.7039463160534,15.835019109596,16.9660919031385],"ysrc":"nadhil2:91:43bcd9","y":[3,28,45,60,93,64,61,54,74,51,32,8,0,1],"frame":null,"xaxis":"x3","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil2:91:739a0d","base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0],"textsrc":"nadhil2:91:2d2e21","text":["count:3value:2.262146e+00","count:28value:3.393218e+00","count:45value:4.524291e+00","count:60value:5.655364e+00","count:93value:6.786437e+00","count:64value:7.917510e+00","count:61value:9.048582e+00","count:54value:1.017966e+01","count:74value:1.131073e+01","count:51value:1.244180e+01","count:32value:1.357287e+01","count:8value:1.470395e+01","count:0value:1.583502e+01","count:1value:1.696609e+01"],"widthsrc":"nadhil2:91:077c6d","width":[1.13107279354257,1.13107279354257,1.13107279354257,1.13107279354257,1.13107279354257,1.13107279354257,1.13107279354257,1.13107279354257,1.13107279354257,1.13107279354257,1.13107279354257,1.13107279354257,1.13107279354257,1.13107279354257],"hoverinfo":"text","showlegend":false,"orientation":"v"},{"type":"bar","xsrc":"nadhil2:91:565879","x":[3.73013368083188,4.47616041699825,5.22218715316463,5.968213889331,6.71424062549738,7.46026736166375,8.20629409783013,8.95232083399651,9.69834757016288,10.4443743063293,11.1904010424956,11.936427778662,12.6824545148284,13.4284812509948,14.1745079871611,14.9205347233275,15.6665614594939,16.4125881956603,17.1586149318266,17.904641667993,18.6506684041594,19.3966951403258,20.1427218764921,20.8887486126585,21.6347753488249,22.3808020849913,23.1268288211576,23.872855557324,24.6188822934904,25.3649090296568],"ysrc":"nadhil2:91:6b3d93","y":[4,34,50,88,72,60,72,67,28,17,7,4,4,6,1,1,6,5,8,3,4,3,10,8,6,5,0,0,0,1],"frame":null,"xaxis":"x4","yaxis":"y2","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil2:91:1ca9ae","base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"textsrc":"nadhil2:91:27b0d1","text":["count:4value:3.730134e+00","count:34value:4.476160e+00","count:50value:5.222187e+00","count:88value:5.968214e+00","count:72value:6.714241e+00","count:60value:7.460267e+00","count:72value:8.206294e+00","count:67value:8.952321e+00","count:28value:9.698348e+00","count:17value:1.044437e+01","count:7value:1.119040e+01","count:4value:1.193643e+01","count:4value:1.268245e+01","count:6value:1.342848e+01","count:1value:1.417451e+01","count:1value:1.492053e+01","count:6value:1.566656e+01","count:5value:1.641259e+01","count:8value:1.715861e+01","count:3value:1.790464e+01","count:4value:1.865067e+01","count:3value:1.939670e+01","count:10value:2.014272e+01","count:8value:2.088875e+01","count:6value:2.163478e+01","count:5value:2.238080e+01","count:0value:2.312683e+01","count:0value:2.387286e+01","count:0value:2.461888e+01","count:1value:2.536491e+01"],"widthsrc":"nadhil2:91:681e70","width":[0.746026736166376,0.746026736166375,0.746026736166376,0.746026736166375,0.746026736166376,0.746026736166375,0.746026736166377,0.746026736166375,0.746026736166378,0.746026736166375,0.746026736166378,0.746026736166375,0.746026736166375,0.746026736166378,0.746026736166378,0.746026736166375,0.746026736166378,0.746026736166371,0.746026736166378,0.746026736166371,0.746026736166371,0.746026736166378,0.746026736166371,0.746026736166371,0.746026736166371,0.746026736166371,0.746026736166378,0.746026736166371,0.746026736166371,0.746026736166378],"hoverinfo":"text","showlegend":false,"orientation":"v"},{"type":"bar","xsrc":"nadhil2:91:3836ec","x":[2889.6503337154,3467.58040045849,4045.51046720157,4623.44053394465,5201.37060068773,5779.30066743081,6357.23073417389,6935.16080091697,7513.09086766005,8091.02093440313,8668.95100114622,9246.8810678893,9824.81113463237,10402.7412013755,10980.6712681185,11558.6013348616,12136.5314016047,12714.4614683478,13292.3915350909,13870.3216018339,14448.251668577,15026.1817353201,15604.1118020632],"ysrc":"nadhil2:91:755f02","y":[30,3,10,20,25,32,60,66,70,75,59,26,15,11,8,12,8,10,3,11,9,9,2],"frame":null,"xaxis":"x5","yaxis":"y2","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil2:91:b2bc22","base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"textsrc":"nadhil2:91:94277c","text":["count:30value:2.889650e+03","count:3value:3.467580e+03","count:10value:4.045510e+03","count:20value:4.623441e+03","count:25value:5.201371e+03","count:32value:5.779301e+03","count:60value:6.357231e+03","count:66value:6.935161e+03","count:70value:7.513091e+03","count:75value:8.091021e+03","count:59value:8.668951e+03","count:26value:9.246881e+03","count:15value:9.824811e+03","count:11value:1.040274e+04","count:8value:1.098067e+04","count:12value:1.155860e+04","count:8value:1.213653e+04","count:10value:1.271446e+04","count:3value:1.329239e+04","count:11value:1.387032e+04","count:9value:1.444825e+04","count:9value:1.502618e+04","count:2value:1.560411e+04"],"widthsrc":"nadhil2:91:3f4413","width":[577.930066743082,577.930066743081,577.930066743081,577.93006674308,577.930066743082,577.93006674308,577.93006674308,577.930066743082,577.93006674308,577.930066743082,577.93006674308,577.93006674308,577.93006674308,577.93006674308,577.93006674308,577.93006674308,577.93006674308,577.93006674308,577.93006674308,577.93006674308,577.93006674308,577.93006674308,577.93006674308],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[-1382.70610756533,13026.5470133786],"ticks":"outside","title":"","anchor":"y","domain":[0,0.325179386823222],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","4000","8000","12000"],"tickvals":[0,4000,8000,12000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","4000","8000","12000"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-6.75,141.75],"ticks":"outside","title":"","anchor":"x","domain":[0.54898298048983,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","50","100"],"tickvals":[0,50,100],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","50","100"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":43.1050228310502,"r":7.30593607305936,"t":37.9178082191781},"shapes":[{"x0":0,"x1":0.325179386823222,"y0":0.54898298048983,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0,"x1":0.325179386823222,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0.341487279843444,"x1":0.658512720156556,"y0":0.54898298048983,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0.341487279843444,"x1":0.658512720156556,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0.674820613176778,"x1":1,"y0":0.54898298048983,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0.674820613176778,"x1":1,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":1,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0,"x1":0.325179386823222,"y0":0,"y1":0.45101701951017,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0,"x1":0.325179386823222,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":0.45101701951017,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"},{"x0":0.341487279843444,"x1":0.658512720156556,"y0":0,"y1":0.45101701951017,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null},{"x0":0.341487279843444,"x1":0.658512720156556,"y0":0,"y1":23.37899543379,"line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"type":"rect","xref":"paper","yref":"paper","yanchor":0.45101701951017,"fillcolor":"rgba(217,217,217,1)","ysizemode":"pixel"}],"xaxis2":{"type":"linear","range":[190423.679370802,328913.628004112],"ticks":"outside","title":"","anchor":"y","domain":[0.341487279843444,0.658512720156556],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["200000","240000","280000","320000"],"tickvals":[200000,240000,280000,320000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["200000","240000","280000","320000"],"categoryorder":"array","showticklabels":true},"xaxis3":{"type":"linear","range":[0.904858234834055,18.3233792553896],"ticks":"outside","title":"","anchor":"y","domain":[0.674820613176778,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["5","10","15"],"tickvals":[5,10,15],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["5","10","15"],"categoryorder":"array","showticklabels":true},"xaxis4":{"type":"linear","range":[2.23808020849913,26.8569625019895],"ticks":"outside","title":"","anchor":"y2","domain":[0,0.325179386823222],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["5","10","15","20","25"],"tickvals":[5,10,15,20,25],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["5","10","15","20","25"],"categoryorder":"array","showticklabels":true},"xaxis5":{"type":"linear","range":[1936.06572358932,16557.6964121893],"ticks":"outside","title":"","anchor":"y2","domain":[0.341487279843444,0.658512720156556],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["4000","8000","12000","16000"],"tickvals":[4000,8000,12000,16000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["4000","8000","12000","16000"],"categoryorder":"array","showticklabels":true},"yaxis2":{"type":"linear","range":[-6.75,141.75],"ticks":"outside","title":"","anchor":"x","domain":[0,0.45101701951017],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","50","100"],"tickvals":[0,50,100],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"hoverformat":".2f","categoryarray":["0","50","100"],"categoryorder":"array","showticklabels":true},"barmode":"relative","hovermode":"closest","showlegend":false,"annotations":[{"x":0.5,"y":-0.0353881278538813,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"value","xref":"paper","yref":"paper","xanchor":"center","yanchor":"top","showarrow":false,"textangle":0,"annotationType":"axis"},{"x":-0.0318003913894325,"y":0.5,"ax":0,"ay":0,"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count","xref":"paper","yref":"paper","xanchor":"right","yanchor":"center","showarrow":false,"textangle":-90,"annotationType":"axis"},{"x":0.162589693411611,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"pce","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.5,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"pop","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.837410306588389,"y":1,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"psavert","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.162589693411611,"y":0.45101701951017,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"uempmed","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0},{"x":0.5,"y":0.45101701951017,"ax":0,"ay":0,"font":{"size":11.689497716895,"color":"rgba(26,26,26,1)","family":""},"text":"unemploy","xref":"paper","yref":"paper","xanchor":"center","yanchor":"bottom","showarrow":false,"textangle":0}],"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_30
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example10_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example10_montage.png"
%}


# Histogram example with explanation

<pre class="mcode">
p <-    
 if (require("ggplot2movies")) {
  # Often we don't want the height of the bar to represent the
  # count of observations, but the sum of some other variable.
  # For example, the following plot shows the number of movies
  # in each rating.
  m <- ggplot(movies, aes(rating))
  m + geom_histogram(binwidth = 0.1)

  # If, however, we want to see the number of votes cast in each
  # category, we need to weight by the votes variable
  m +
    geom_histogram(aes(weight = votes), binwidth = 0.1) +
    ylab("votes")
  
  # For transformed scales, binwidth applies to the transformed data.
  # The bins have constant width on the transformed scale.
  m +
  geom_histogram() +
  scale_x_log10()
  m +
    geom_histogram(binwidth = 0.05) +
    scale_x_log10()

  # For transformed coordinate systems, the binwidth applies to the
  # raw data. The bins have constant width on the original scale.

  # Using log scales does not work here, because the first
  # bar is anchored at zero, and so when transformed becomes negative
  # infinity. This is not a problem when transforming the scales, because
  # no observations have 0 ratings.
  m +
    geom_histogram(boundary = 0) +
    coord_trans(x = "log10")
  
  # Use boundary = 0, to make sure we don't take sqrt of negative values
  m +
    geom_histogram(boundary = 0) +
    coord_trans(x = "sqrt")

  # You can also transform the y axis.  Remember that the base of the bars
  # has value 0, so log transformations are not appropriate
  m <- ggplot(movies, aes(x = rating))
  m +
    geom_histogram(binwidth = 0.5) +
    scale_y_sqrt()
}

plotly::ggplotly(p)
</pre>


{% capture plot_29 %}
  {% raw %}
    {"data":[{"type":"bar","xsrc":"nadhil2:89:ff05ce","x":[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9,9.5,10],"ysrc":"nadhil2:89:4bc8ae","y":[13.6381816969859,16.8819430161341,24.8997991959775,30.3150127824482,38.405728739343,45.508241011931,53.113086899558,62.9126378401033,72.4499827467198,82.2131376362683,89.481841733393,89.3476356710126,84.5990543682375,71.6100551598726,55.6237359406935,40.4103947023535,30.4959013639538,20.6639783197718,9.2736184954957],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"transparent","width":1.88976377952756},"color":"rgba(89,89,89,1)","autocolorscale":false},"basesrc":"nadhil2:89:6ebc1d","base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"textsrc":"nadhil2:89:cf0429","text":["count:13.638182rating:1.0","count:16.881943rating:1.5","count:24.899799rating:2.0","count:30.315013rating:2.5","count:38.405729rating:3.0","count:45.508241rating:3.5","count:53.113087rating:4.0","count:62.912638rating:4.5","count:72.449983rating:5.0","count:82.213138rating:5.5","count:89.481842rating:6.0","count:89.347636rating:6.5","count:84.599054rating:7.0","count:71.610055rating:7.5","count:55.623736rating:8.0","count:40.410395rating:8.5","count:30.495901rating:9.0","count:20.663978rating:9.5","count:9.273618rating:10.0"],"widthsrc":"nadhil2:89:bd30c9","width":[0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5],"hoverinfo":"text","showlegend":false,"orientation":"v"}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[0.275,10.725],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"rating"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2.5","5.0","7.5","10.0"],"tickvals":[2.5,5,7.5,10],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2.5","5.0","7.5","10.0"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-4.47409208666965,93.9559338200627],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"count"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["2000","4000","6000","8000"],"tickvals":[44.7213595499958,63.2455532033676,77.4596669241483,89.4427190999916],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["2000","4000","6000","8000"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":48.9497716894977,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_29
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example9_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Layers/Geoms/geom_histogram/example9_montage.png"
%}