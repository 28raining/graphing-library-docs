---
  description: This function is used in conjunction with a position scale to create a secondary axis, positioned opposite of the primary axis and then convert them with ggplotly.
  function: sec_axis
  permalink: /ggplot2/Guides axes and legends/sec_axis/
  layout: base
  language: ggplot2
  name: sec_axis
  reference: https://ggplot2.tidyverse.org/reference/
---


# Create secondary axis

<pre class="mcode">
p <- ggplot(mtcars, aes(cyl, mpg)) +
  geom_point()

p <-  p + scale_y_continuous(sec.axis = sec_axis(~ . + 10))

plotly::ggplotly(p)
</pre>


{% capture plot_425 %}
  {% raw %}
    {"data":[{"mode":"markers","type":"scatter","xsrc":"nadhil:714:869a5c","x":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"ysrc":"nadhil:714:ece4f2","y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:714:c8068d","text":["cyl:6mpg:21.0","cyl:6mpg:21.0","cyl:4mpg:22.8","cyl:6mpg:21.4","cyl:8mpg:18.7","cyl:6mpg:18.1","cyl:8mpg:14.3","cyl:4mpg:24.4","cyl:4mpg:22.8","cyl:6mpg:19.2","cyl:6mpg:17.8","cyl:8mpg:16.4","cyl:8mpg:17.3","cyl:8mpg:15.2","cyl:8mpg:10.4","cyl:8mpg:10.4","cyl:8mpg:14.7","cyl:4mpg:32.4","cyl:4mpg:30.4","cyl:4mpg:33.9","cyl:4mpg:21.5","cyl:8mpg:15.5","cyl:8mpg:15.2","cyl:8mpg:13.3","cyl:8mpg:19.2","cyl:4mpg:27.3","cyl:4mpg:26.0","cyl:4mpg:30.4","cyl:8mpg:15.8","cyl:6mpg:19.7","cyl:8mpg:15.0","cyl:4mpg:21.4"],"hoverinfo":"text","showlegend":false}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[3.8,8.2],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"cyl"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["4","5","6","7","8"],"tickvals":[4,5,6,7,8],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["4","5","6","7","8"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[9.225,35.075],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"mpg"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["10","15","20","25","30","35"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":37.2602739726027,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_425
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Guides%20axes%20and%20legends/sec_axis/example1_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Guides%20axes%20and%20legends/sec_axis/example1_montage.png"
%}


# Add name to secondary axis

Inherit the name from the primary axis using `derive()`

<pre class="mcode">
p <- ggplot(mtcars, aes(cyl, mpg)) +
  geom_point()

p <-  p + scale_y_continuous("Miles/gallon", sec.axis = sec_axis(~ . + 10, name = derive()))

plotly::ggplotly(p)
</pre>


{% capture plot_426 %}
  {% raw %}
    {"data":[{"mode":"markers","type":"scatter","xsrc":"nadhil:716:8b462a","x":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"ysrc":"nadhil:716:cd76b4","y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:716:9c5bf3","text":["cyl:6mpg:21.0","cyl:6mpg:21.0","cyl:4mpg:22.8","cyl:6mpg:21.4","cyl:8mpg:18.7","cyl:6mpg:18.1","cyl:8mpg:14.3","cyl:4mpg:24.4","cyl:4mpg:22.8","cyl:6mpg:19.2","cyl:6mpg:17.8","cyl:8mpg:16.4","cyl:8mpg:17.3","cyl:8mpg:15.2","cyl:8mpg:10.4","cyl:8mpg:10.4","cyl:8mpg:14.7","cyl:4mpg:32.4","cyl:4mpg:30.4","cyl:4mpg:33.9","cyl:4mpg:21.5","cyl:8mpg:15.5","cyl:8mpg:15.2","cyl:8mpg:13.3","cyl:8mpg:19.2","cyl:4mpg:27.3","cyl:4mpg:26.0","cyl:4mpg:30.4","cyl:8mpg:15.8","cyl:6mpg:19.7","cyl:8mpg:15.0","cyl:4mpg:21.4"],"hoverinfo":"text","showlegend":false}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[3.8,8.2],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"cyl"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["4","5","6","7","8"],"tickvals":[4,5,6,7,8],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["4","5","6","7","8"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[9.225,35.075],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"Miles/gallon"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["10","15","20","25","30","35"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":37.2602739726027,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_426
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Guides%20axes%20and%20legends/sec_axis/example2_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Guides%20axes%20and%20legends/sec_axis/example2_montage.png"
%}


# Duplicate primary axis


<pre class="mcode">
p <- ggplot(mtcars, aes(cyl, mpg)) +
  geom_point()

p <-  p + scale_y_continuous(sec.axis = dup_axis())

plotly::ggplotly(p)
</pre>



{% capture plot_427 %}
  {% raw %}
    {"data":[{"mode":"markers","type":"scatter","xsrc":"nadhil:718:fe4178","x":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"ysrc":"nadhil:718:a46d8b","y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:718:d09765","text":["cyl:6mpg:21.0","cyl:6mpg:21.0","cyl:4mpg:22.8","cyl:6mpg:21.4","cyl:8mpg:18.7","cyl:6mpg:18.1","cyl:8mpg:14.3","cyl:4mpg:24.4","cyl:4mpg:22.8","cyl:6mpg:19.2","cyl:6mpg:17.8","cyl:8mpg:16.4","cyl:8mpg:17.3","cyl:8mpg:15.2","cyl:8mpg:10.4","cyl:8mpg:10.4","cyl:8mpg:14.7","cyl:4mpg:32.4","cyl:4mpg:30.4","cyl:4mpg:33.9","cyl:4mpg:21.5","cyl:8mpg:15.5","cyl:8mpg:15.2","cyl:8mpg:13.3","cyl:8mpg:19.2","cyl:4mpg:27.3","cyl:4mpg:26.0","cyl:4mpg:30.4","cyl:8mpg:15.8","cyl:6mpg:19.7","cyl:8mpg:15.0","cyl:4mpg:21.4"],"hoverinfo":"text","showlegend":false}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[3.8,8.2],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"cyl"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["4","5","6","7","8"],"tickvals":[4,5,6,7,8],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["4","5","6","7","8"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[9.225,35.075],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"mpg"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["10","15","20","25","30","35"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":37.2602739726027,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_427
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Guides%20axes%20and%20legends/sec_axis/example3_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Guides%20axes%20and%20legends/sec_axis/example3_montage.png"
%}



# Use shorthand formula



<pre class="mcode">
p <- ggplot(mtcars, aes(cyl, mpg)) +
  geom_point()

p <-  p + scale_y_continuous(sec.axis = ~ .^2)

plotly::ggplotly(p)
</pre>



{% capture plot_428 %}
  {% raw %}
    {"data":[{"mode":"markers","type":"scatter","xsrc":"nadhil:720:50810f","x":[6,6,4,6,8,6,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"ysrc":"nadhil:720:69f448","y":[21,21,22.8,21.4,18.7,18.1,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"frame":null,"xaxis":"x","yaxis":"y","marker":{"line":{"color":"rgba(0,0,0,1)","width":1.88976377952756},"size":5.66929133858268,"color":"rgba(0,0,0,1)","symbol":"circle","opacity":1,"autocolorscale":false},"hoveron":"points","textsrc":"nadhil:720:dc2006","text":["cyl:6mpg:21.0","cyl:6mpg:21.0","cyl:4mpg:22.8","cyl:6mpg:21.4","cyl:8mpg:18.7","cyl:6mpg:18.1","cyl:8mpg:14.3","cyl:4mpg:24.4","cyl:4mpg:22.8","cyl:6mpg:19.2","cyl:6mpg:17.8","cyl:8mpg:16.4","cyl:8mpg:17.3","cyl:8mpg:15.2","cyl:8mpg:10.4","cyl:8mpg:10.4","cyl:8mpg:14.7","cyl:4mpg:32.4","cyl:4mpg:30.4","cyl:4mpg:33.9","cyl:4mpg:21.5","cyl:8mpg:15.5","cyl:8mpg:15.2","cyl:8mpg:13.3","cyl:8mpg:19.2","cyl:4mpg:27.3","cyl:4mpg:26.0","cyl:4mpg:30.4","cyl:8mpg:15.8","cyl:6mpg:19.7","cyl:8mpg:15.0","cyl:4mpg:21.4"],"hoverinfo":"text","showlegend":false}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[3.8,8.2],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"cyl"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["4","5","6","7","8"],"tickvals":[4,5,6,7,8],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["4","5","6","7","8"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[9.225,35.075],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"mpg"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["10","15","20","25","30","35"],"tickvals":[10,15,20,25,30,35],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["10","15","20","25","30","35"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":37.2602739726027,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_428
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Guides%20axes%20and%20legends/sec_axis/example4_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Guides%20axes%20and%20legends/sec_axis/example4_montage.png"
%}


# Date and datetime

Secondary axes work for date and datetime scales too. This may useful for labelling different time scales in the same plot.

<pre class="mcode">
df <- data.frame(
  dx = seq(
    as.POSIXct("2012-02-29 12:00:00", tz = "UTC"),
    length.out = 10,
    by = "4 hour"
  ),
  price = seq(20, 200000, length.out = 10)
 )

p <-    
 ggplot(df, aes(x = dx, y = price)) +
  geom_line() +
  scale_x_datetime(
    "Date",
    date_labels = "%b %d",
    date_breaks = "6 hour",
    sec.axis = dup_axis(
      name = "Time of Day",
      labels = scales::time_format("%I %p")
    )
  )
  
plotly::ggplotly(p)
</pre>


{% capture plot_429 %}
  {% raw %}
    {"data":[{"line":{"dash":"solid","color":"rgba(0,0,0,1)","width":1.88976377952756},"mode":"lines","type":"scatter","xsrc":"nadhil:722:8e567c","x":[1330516800,1330531200,1330545600,1330560000,1330574400,1330588800,1330603200,1330617600,1330632000,1330646400],"ysrc":"nadhil:722:046c9b","y":[20,22240,44460,66680,88900,111120,133340,155560,177780,200000],"frame":null,"xaxis":"x","yaxis":"y","hoveron":"points","textsrc":"nadhil:722:f7abdf","text":["dx:2012-02-2912:00:00price:20","dx:2012-02-2916:00:00price:22240","dx:2012-02-2920:00:00price:44460","dx:2012-03-0100:00:00price:66680","dx:2012-03-0104:00:00price:88900","dx:2012-03-0108:00:00price:111120","dx:2012-03-0112:00:00price:133340","dx:2012-03-0116:00:00price:155560","dx:2012-03-0120:00:00price:177780","dx:2012-03-0200:00:00price:200000"],"hoverinfo":"text","showlegend":false}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[1330510320,1330652880],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"Date"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["Feb29","Feb29","Mar01","Mar01","Mar01","Mar01"],"tickvals":[1330531200,1330552800,1330574400,1330596000,1330617600,1330639200],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["Feb29","Feb29","Mar01","Mar01","Mar01","Mar01"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-9979,209999],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"price"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","50000","100000","150000","200000"],"tickvals":[0,50000,100000,150000,200000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","50000","100000","150000","200000"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":60.6392694063927,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_429
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Guides%20axes%20and%20legends/sec_axis/example5_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Guides%20axes%20and%20legends/sec_axis/example5_montage.png"
%}

It can also be useful to transform axes for different timezones


<pre class="mcode">
df <- data.frame(
  dx = seq(
    as.POSIXct("2012-02-29 12:00:00", tz = "UTC"),
    length.out = 10,
    by = "4 hour"
  ),
  price = seq(20, 200000, length.out = 10)
 )

p <-    
 ggplot(df, aes(x = dx, y = price)) +
  geom_line() +
  scale_x_datetime("
    GMT",
    date_labels = "%b %d %I %p",
    sec.axis = sec_axis(
      ~ . + 8 * 3600,
      name = "GMT+8",
      labels = scales::time_format("%b %d %I %p")
    )
  )
  
plotly::ggplotly(p)
</pre>


{% capture plot_430 %}
  {% raw %}
    {"data":[{"line":{"dash":"solid","color":"rgba(0,0,0,1)","width":1.88976377952756},"mode":"lines","type":"scatter","xsrc":"nadhil:724:a08137","x":[1330516800,1330531200,1330545600,1330560000,1330574400,1330588800,1330603200,1330617600,1330632000,1330646400],"ysrc":"nadhil:724:5f424b","y":[20,22240,44460,66680,88900,111120,133340,155560,177780,200000],"frame":null,"xaxis":"x","yaxis":"y","hoveron":"points","textsrc":"nadhil:724:3058cc","text":["dx:2012-02-2912:00:00price:20","dx:2012-02-2916:00:00price:22240","dx:2012-02-2920:00:00price:44460","dx:2012-03-0100:00:00price:66680","dx:2012-03-0104:00:00price:88900","dx:2012-03-0108:00:00price:111120","dx:2012-03-0112:00:00price:133340","dx:2012-03-0116:00:00price:155560","dx:2012-03-0120:00:00price:177780","dx:2012-03-0200:00:00price:200000"],"hoverinfo":"text","showlegend":false}],"layout":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"xaxis":{"type":"linear","range":[1330510320,1330652880],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"GMT"},"anchor":"y","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["Feb2912PM","Mar0112AM","Mar0112PM","Mar0212AM"],"tickvals":[1330516800,1330560000,1330603200,1330646400],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["Feb2912PM","Mar0112AM","Mar0112PM","Mar0212AM"],"categoryorder":"array","showticklabels":true},"yaxis":{"type":"linear","range":[-9979,209999],"ticks":"outside","title":{"font":{"size":14.6118721461187,"color":"rgba(0,0,0,1)","family":""},"text":"price"},"anchor":"x","domain":[0,1],"nticks":null,"ticklen":3.65296803652968,"showgrid":true,"showline":false,"tickfont":{"size":11.689497716895,"color":"rgba(77,77,77,1)","family":""},"tickmode":"array","ticktext":["0","50000","100000","150000","200000"],"tickvals":[0,50000,100000,150000,200000],"zeroline":false,"autorange":false,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"linecolor":null,"linewidth":0,"tickangle":0,"tickcolor":"rgba(51,51,51,1)","tickwidth":0.66417600664176,"automargin":true,"hoverformat":".2f","categoryarray":["0","50000","100000","150000","200000"],"categoryorder":"array","showticklabels":true},"legend":{"font":{"size":11.689497716895,"color":"rgba(0,0,0,1)","family":""},"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756},"margin":{"b":40.1826484018265,"l":60.6392694063927,"r":7.30593607305936,"t":26.2283105022831},"shapes":[{"x0":0,"x1":1,"y0":0,"y1":1,"line":{"color":null,"width":0,"linetype":[]},"type":"rect","xref":"paper","yref":"paper","fillcolor":null}],"barmode":"relative","hovermode":"closest","showlegend":false,"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)"},"frames":[]}
  {% endraw %}
{% endcapture %}
{% include posts/ssim_frame.html
    raw_json_file=plot_430
    ssim="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Guides%20axes%20and%20legends/sec_axis/example6_ssim_map.png" 
    compare="https://raw.githubusercontent.com/plotly/ssim_baselines/main/out_ggplot2/ggplot2/Guides%20axes%20and%20legends/sec_axis/example6_montage.png"
%}



